import{_ as P,G as N,r as C,P as S,R as z,k as A,o as B,S as D,H as s,I as m,J as o,T as d,K as a,V as k,aY as E,a0 as p,Q as L,X as l,L as u,M as g,W as T,Z as R,$ as U,s as x,U as M,N as O,Y,aE as F}from"./index.35821edc.js";import{Q as G}from"./QSpace.d25d6d7b.js";import{Q as w}from"./QTooltip.9e866038.js";import{Q as H}from"./QTd.7f0ab490.js";import{Q as J}from"./QTable.516d2110.js";import{a as K,Q as h}from"./QMenu.c301a8bc.js";import{Q as W}from"./QItemLabel.ce2d3637.js";import{Q as X}from"./QList.7454f32f.js";import{Q as Z}from"./QPageSticky.0b6d8f0a.js";import{Q as j}from"./QPage.a66fc822.js";import{a as ee,b as ae}from"./QLayout.d35a44ea.js";import{u as oe}from"./userApi.885d4b06.js";import{u as te}from"./useNotify.4729e429.js";import{u as re}from"./use-quasar.0c1c42d6.js";import{f as se}from"./formatCurrency.6090a7ed.js";import{b as ie,i as le}from"./inputVisual.14accdd7.js";import{s as ne}from"./vue-json-excel.esm.c8461bbc.js";import"./selection.364e49a0.js";import"./QSelect.e06743c9.js";import"./rtl.b51694b1.js";import"./use-fullscreen.61378003.js";const me=[{name:"categoria",label:"Nome de categoria",align:"left",field:"categoria",sortable:!0},{name:"actions",label:"Op\xE7\xF5es",align:"left",field:"actions",sortable:!0}],ce={"Nome da categoria":"categoria","Vencimento base":"salario_base","Vencimento l\xEDquido":"salario_liquido"};const de=N({components:{DownloadExcel:ne},setup(){const e=C([]),{list:c,remove:_}=oe(),{user:r}=S(),b=z(),y=re(),f=C(""),t="categorias",{notifyError:n,notifySuccess:$}=te(),Q=async()=>{d.show({message:"Carregado categorias"});try{e.value=await c(t,v.value)}catch(i){n(i.message)}finally{d.hide()}},q=async i=>{try{y.dialog({title:"Confirma\xE7\xE3o",message:`tens a certeza que pretendes eliminar a categoria ${i.categoria} ?`,cancel:!0,persistent:!0}).onOk(async()=>{d.show({message:"Apagando categoria..."}),await _(t,i.id),Q(),$("categoria apagada com sucesso")})}catch(V){n(V.message)}finally{d.hide()}},I=i=>{b.push({name:"form-categoria",params:{id:i.id}})},v=A(()=>r.value.id!=r.value.user_metadata.organization_id?(console.log(r.value.user_metadata.organization_id),r.value.user_metadata.organization_id):(console.log(r.value.id),r.value.id));return B(()=>{Q()}),{columns:me,alterarItem:I,formatCurrency:se,deletarItem:q,categorias:e,btnConfig:ie,inputConfig:le,filter:f,fields:ce,isDiferentID:v}}}),ue={key:0,class:"row"},fe={class:"row text-body3 text-h5 flex-center q-pa-lg bg-secondary text-white"};function pe(e,c,_,r,b,y){const f=D("download-excel");return s(),m(ee,null,{default:o(()=>[a(ae,null,{default:o(()=>[a(j,{padding:""},{default:o(()=>[e.$q.platform.is.desktop?(s(),k("div",ue,[a(J,{rows:e.categorias,flat:"",bordered:"",columns:e.columns,"row-key":"id",class:"col-12","virtual-scroll":"",filter:e.filter},{top:o(()=>[a(E,p({class:"",type:"text",label:"Pesquisar"},{...e.inputConfig},{modelValue:e.filter,"onUpdate:modelValue":c[0]||(c[0]=t=>e.filter=t)}),{prepend:o(()=>[a(L,{name:"mdi-magnify"})]),_:1},16,["modelValue"]),a(G),e.$q.platform.is.desktop?(s(),m(l,p({key:0,icon:"mdi-plus",label:"Cadastrar nova categoria"},{...e.btnConfig},{to:{name:"form-categoria"}}),null,16)):u("",!0),a(f,{data:e.categorias,fields:e.fields,worksheet:"Categorias",name:"categorias.xls",class:"q-ml-md"},{default:o(()=>[a(l,p({icon:"mdi-file-excel",label:"Exportar uma lista"},{...e.btnConfig}),null,16)]),_:1},8,["data","fields"])]),"body-cell-actions":o(t=>[a(H,{props:t,class:"q-gutter-x-sm text-center"},{default:o(()=>[a(l,{icon:"mdi-pencil-outline",color:"primary",flat:"",dense:"",size:"sm",onClick:n=>e.alterarItem(t.row)},{default:o(()=>[a(w,null,{default:o(()=>[g("Alterar")]),_:1})]),_:2},1032,["onClick"]),a(l,{icon:"mdi-delete-outline",color:"secondary",dense:"",flat:"",size:"sm",onClick:n=>e.deletarItem(t.row)},{default:o(()=>[a(w,null,{default:o(()=>[g("Apagar")]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","filter"])])):u("",!0),e.$q.platform.is.mobile?(s(),m(X,{key:1,bordered:""},{default:o(()=>[T("div",fe,[a(l,{flat:"",icon:"mdi-shape-outline",label:"Categorias"})]),(s(!0),k(U,null,R(e.categorias,t=>x((s(),m(K,{key:t.id,class:"q-mb-sm",clickable:"",onClick:n=>e.alterarItem(t)},{default:o(()=>[a(h,{avatar:""},{default:o(()=>[a(M,{color:"primary","text-color":"white",icon:"mdi-shape"})]),_:1}),a(h,null,{default:o(()=>[a(W,null,{default:o(()=>[g(O(t.categoria),1)]),_:2},1024)]),_:2},1024),a(Y)]),_:2},1032,["onClick"])),[[F]])),128))]),_:1})):u("",!0),e.$q.platform.is.mobile?(s(),m(Z,{key:2,class:"margin-bottom",position:"bottom-right",offset:[18,18]},{default:o(()=>[a(l,{fab:"",icon:"mdi-plus",color:"primary",to:{name:"form-categoria"}})]),_:1})):u("",!0)]),_:1})]),_:1})]),_:1})}var Ee=P(de,[["render",pe],["__scopeId","data-v-963188bc"]]);export{Ee as default};
