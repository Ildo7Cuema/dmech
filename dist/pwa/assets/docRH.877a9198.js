import{_ as lo,r as d,D as no,z as ao,p as i,q as r,s as a,t as l,K as h,G as _,aZ as m,Q as V,F as S,I as u,v as s,H as t,L as io,M as to,bm as z,aT as G,aS as k,x as I,bt as L,aR as B,J as y,bq as ro,N as g,y as J}from"./index.e70dc7e8.js";import{Q as R}from"./QTd.e931d9bd.js";import{Q as so}from"./QImg.3a984e02.js";import{Q as mo}from"./QTable.324e303e.js";import{a as N,Q as C}from"./position-engine.1f1eaf41.js";import{Q as x}from"./QItemLabel.f0026656.js";import{Q as j}from"./QList.9cd80ca5.js";import{Q as co}from"./QBtnDropdown.7820ddaf.js";import{Q}from"./QSelect.9e4cb652.js";import{Q as uo}from"./QForm.7b26f9a5.js";import{Q as fo}from"./QPage.63b09b87.js";import{a as po,b as go}from"./QLayout.ca9f809c.js";import{C as D}from"./ClosePopup.39a76e78.js";import{u as Io}from"./userApi.7be80cfa.js";import{u as _o}from"./use-quasar.4cac9bb9.js";import{h as bo}from"./moment.40bc58bf.js";import{i as vo}from"./inputVisual.14accdd7.js";import"./use-fullscreen.63635d9e.js";import"./selection.ded15137.js";import"./QMenu.704bcb1b.js";import"./rtl.b51694b1.js";const Vo=[{name:"img_url",label:"Imagem",align:"left",field:"img_url",sortable:!0},{name:"nome",label:"Nome completo",align:"left",field:"nome",sortable:!0},{name:"num_agente",label:"N\xBA de agente",align:"left",field:"num_agente",sortable:!0},{name:"options",label:"Op\xE7\xF5es",align:"left",field:"options",sortable:!0}],yo={name:"DocRH",components:{},setup(){const c=d(""),n=bo(),q=no(),e=d(),M="funcionarios",w=_o(),o=d([]),f=d(!1),P=d(null),E=d(null),O=d(!1),b=d({}),W=d(null),K=d(["Director Municipal","Director Interino"]),Z=d(["Chefe da Sec\xE7\xE3o do P.E.R.H","Interino(a)"]),X=d({}),p=d({tipoTermo:"",chef_PERH:"",chef_PERH_interino:"",chef_PERH_interino_funcao:"",directoMunicipal:"",directoMunicipal_interino:"",directoMunicipal_interino_funcao:"",escola_id:"",provincia:"",municipio:""}),T=d(!0),H=d([]),Y=d("");d("");const{getFuncionariosWithCategoriasAndEscolas:$,getFuncionarioWithCategoriasAndEscolas:A,list:oo}=Io();ao(()=>{eo(),F()});const F=async()=>{o.value=await oo("escolas")},eo=async()=>{try{w.loading.show("Carregando funcion\xE1rios..."),H.value=await $(M)}catch(v){console.log(v.message)}finally{w.loading.hide()}};return{columns:Vo,filter:c,rows:H,printDoc:async()=>{p.value?typeof p.value=="object"?q.push({name:"docPrint",params:{dados:JSON.stringify(b.value),addInfo:JSON.stringify(p.value),model2:E.value,model:P.value}}):console.error("addInfo.value \xE9 um array vazio ou n\xE3o \xE9 um array"):console.error("addInfo.value ou idFunc.value est\xE1 undefined")},printDoc2:async()=>{p.value?typeof p.value=="object"?q.push({name:"docPrint2",params:{dados:JSON.stringify(b.value),addInfo:JSON.stringify(p.value),model2:E.value,model:P.value}}):console.error("addInfo.value \xE9 um array vazio ou n\xE3o \xE9 um array"):console.error("addInfo.value est\xE1 undefined")},modal:f,modal2:O,listarEscolas:F,docPdf:T,escolas:o,inputConfig:vo,addInfoDoc:()=>{T.value=!1},addInfo:p,options:K,options2:Z,model:P,model2:E,modelIntegrante:W,data:Y,dataActual:n,infoFuncionario:X,OpenModal:async v=>{O.value=!1,f.value=!0;try{b.value=await A(M,v)}catch(U){console.log(U.message)}},OpenModal2:async v=>{f.value=!1,O.value=!0;try{b.value=await A(M,v)}catch(U){console.log(U.message)}},dados:b,escola_id:e}}},Co=t("p",{class:"text-body1"},[I(" Documentos: "),t("i",null,"Termos de In\xEDcio de fun\xE7\xF5es & Guias de coloca\xE7\xF5es")],-1),Do={key:0,class:"q-pa-md"},Mo={class:"row text-body3 text-h5 flex-center q-pa-lg bg-secondary text-white"},ko=["src"],xo={class:"secondary"},Qo={key:0,class:"text-h6"},qo=t("b",null,"TERMO DE IN\xCDCIO DE FUN\xC7\xD5ES",-1),wo={key:1,class:"text-small col-12 text-center"},Po=t("p",null,[t("b",null,"TERMO DE IN\xCDCIO DE FUN\xC7\xD5ES")],-1),Eo={class:"row col text-justify"},Oo=t("b",{class:"col-12 text-center"},"Asinaturas",-1),Uo={class:"q-gutter-sm col-12"},ho={key:0,class:"text-h6"},So=t("b",null,"GUIA DE COLOCA\xC7\xC3O",-1),Ro={key:1,class:"text-small col-12 text-center"},No=t("p",null,[t("b",null,"GUIA DE COLOCA\xC7\xC3Os")],-1),To={class:"row col-12 text-justify"},Ho=t("b",{class:"col-12 text-center"},"Asinaturas",-1),Ao={class:"q-gutter-sm col-12"};function Fo(c,n,q,e,M,w){return i(),r(po,null,{default:a(()=>[l(go,null,{default:a(()=>[l(fo,{padding:""},{default:a(()=>[Co,l(h),c.$q.platform.is.desktop&&e.docPdf?(i(),_("div",Do,[l(mo,{dense:"",flat:"",rows:e.rows,columns:e.columns,"row-key":"name",filter:e.filter},{"top-right":a(()=>[l(R,null,{default:a(()=>[l(m,{outlined:"",dense:"",label:"Procurar",autofocus:"",modelValue:e.filter,"onUpdate:modelValue":n[0]||(n[0]=o=>e.filter=o),hint:"Procure por n\xBA de agente ou nome"},{prepend:a(()=>[l(V,{name:"mdi-magnify"})]),_:1},8,["modelValue"])]),_:1})]),"body-cell-img_url":a(o=>[l(R,{props:o},{default:a(()=>[l(S,{square:""},{default:a(()=>[l(so,{src:o.row.img_url},null,8,["src"])]),_:2},1024)]),_:2},1032,["props"])]),"body-cell-options":a(o=>[l(R,{props:o,class:"q-gutter-sm"},{default:a(()=>[l(u,{dense:"",size:"sm",icon:"mdi-file-document-outline",label:"Guia de coloca\xE7\xE3o",color:"primary",onClick:f=>e.OpenModal2(o.row.id)},null,8,["onClick"]),l(u,{dense:"",size:"sm",icon:"mdi-file-document-outline",label:"Termo de in\xEDcio de fun\xE7\xF5es",color:"primary",onClick:f=>e.OpenModal(o.row.id)},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","filter"])])):s("",!0),c.$q.platform.is.mobile&&e.rows!=""&&e.docPdf?(i(),r(j,{key:1,bordered:""},{default:a(()=>[t("div",Mo,[l(u,{flat:"",icon:"mdi-account-tie",label:"Funcion\xE1rios"})]),l(h),(i(!0),_(to,null,io(e.rows,o=>(i(),r(N,{key:o.id,class:"q-mb-sm q-mt-sm"},{default:a(()=>[l(C,{avatar:""},{default:a(()=>[o.img_url?(i(),r(S,{key:0},{default:a(()=>[t("img",{src:o.img_url},null,8,ko)]),_:2},1024)):(i(),r(S,{key:1,color:"grey","text-color":"white",icon:"mdi-image-off"}))]),_:2},1024),l(C,null,{default:a(()=>[l(x,null,{default:a(()=>[I(J(o.nome),1)]),_:2},1024),l(x,{caption:"",lines:"1"},{default:a(()=>[I("N\xBA de agente: "),t("strong",xo,J(o.num_agente),1)]),_:2},1024)]),_:2},1024),l(C,{side:"",top:""},{default:a(()=>[t("div",null,[l(co,{flat:"","dropdown-icon":"mdi-dots-vertical","no-icon-animation":""},{default:a(()=>[l(j,null,{default:a(()=>[y((i(),r(N,{clickable:"",onClick:f=>c.alterarItem(o)},{default:a(()=>[l(C,null,{default:a(()=>[l(x,null,{default:a(()=>[l(u,{dense:"",flat:"",size:"sm",icon:"mdi-file-document-outline",color:"green-10",label:"Guia de coloca\xE7ao",onClick:f=>e.OpenModal2(o.id)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[D]]),y((i(),r(N,{clickable:""},{default:a(()=>[l(C,null,{default:a(()=>[l(x,null,{default:a(()=>[l(u,{dense:"",flat:"",size:"sm",label:"Termo de fun\xE7\xE3o",icon:"mdi-file-document-outline",color:"blue-grey-8",onClick:f=>e.OpenModal(o.id)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[D]])]),_:2},1024)]),_:2},1024)])]),_:2},1024),l(h)]),_:2},1024))),128))]),_:1})):s("",!0),l(z,{modelValue:e.modal,"onUpdate:modelValue":n[12]||(n[12]=o=>e.modal=o)},{default:a(()=>[l(G,{style:{width:"700px","max-width":"80vw"}},{default:a(()=>[l(k,null,{default:a(()=>[c.$q.platform.is.desktop?(i(),_("div",Qo,[l(V,{name:"mdi-cloud-print"}),I(" Documento:"),qo])):s("",!0),c.$q.platform.is.mobile?(i(),_("div",wo,[l(V,{name:"mdi-cloud-print"}),I(" Documento: "),Po])):s("",!0)]),_:1}),l(k,{class:"q-pt-none"},{default:a(()=>[t("div",Eo,[l(L,{size:"xs",modelValue:e.addInfo.tipoTermo,"onUpdate:modelValue":n[1]||(n[1]=o=>e.addInfo.tipoTermo=o),val:"",label:"Novo Termo",class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},null,8,["modelValue"]),l(L,{size:"sm",modelValue:e.addInfo.tipoTermo,"onUpdate:modelValue":n[2]||(n[2]=o=>e.addInfo.tipoTermo=o),val:" - RECONSTITUI\xC7\xC3O",label:"Actualizar termo",class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},null,8,["modelValue"]),Oo,t("div",Uo,[l(Q,{outlined:"",dense:"",modelValue:e.model,"onUpdate:modelValue":n[3]||(n[3]=o=>e.model=o),options:e.options,label:"Quem assinar\xE1 o termo ?",class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},null,8,["modelValue","options"]),e.model=="Director Municipal"?(i(),r(m,{key:0,outlined:"",dense:"",modelValue:e.addInfo.directoMunicipal,"onUpdate:modelValue":n[4]||(n[4]=o=>e.addInfo.directoMunicipal=o),label:"Informe o nome do Director Municipal",class:"col-xs-12 col-sm-12 col-md-6 col-lg-6 q-mt-sm"},null,8,["modelValue"])):s("",!0),e.model=="Director Interino"?(i(),r(m,{key:1,outlined:"",dense:"",modelValue:e.addInfo.directoMunicipal_interino,"onUpdate:modelValue":n[5]||(n[5]=o=>e.addInfo.directoMunicipal_interino=o),label:"Informe o nome do Director Municipal Interino",class:"col-xs-12 col-sm-12 col-md-6 col-lg-6 q-mt-sm"},null,8,["modelValue"])):s("",!0),e.model=="Director Interino"?(i(),r(m,{key:2,outlined:"",dense:"",modelValue:e.addInfo.directoMunicipal_interino_funcao,"onUpdate:modelValue":n[6]||(n[6]=o=>e.addInfo.directoMunicipal_interino_funcao=o),label:"Informe a fun\xE7\xE3o do Director Municipal Interino",class:"col-xs-12 col-sm-12 col-md-6 col-lg-6 q-mt-sm"},null,8,["modelValue"])):s("",!0),l(Q,{outlined:"",dense:"",modelValue:e.model2,"onUpdate:modelValue":n[7]||(n[7]=o=>e.model2=o),options:e.options2,label:"Integrante da assinatura",class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},null,8,["modelValue","options"]),e.model2=="Chefe da Sec\xE7\xE3o do P.E.R.H"?(i(),r(m,{key:3,outlined:"",dense:"",modelValue:e.addInfo.chef_PERH,"onUpdate:modelValue":n[8]||(n[8]=o=>e.addInfo.chef_PERH=o),label:"Informe o nome do Chefe de sec\xE7\xE3o",class:"col-xs-12 col-sm-12 col-md-6 col-lg-6 q-mt-sm"},null,8,["modelValue"])):s("",!0),e.model2=="Interino(a)"?(i(),r(m,{key:4,outlined:"",dense:"",modelValue:e.addInfo.chef_PERH_interino,"onUpdate:modelValue":n[9]||(n[9]=o=>e.addInfo.chef_PERH_interino=o),label:"Informe o nome do Chefe de Sec\xE7\xE3o Interino",class:"col-xs-12 col-sm-12 col-md-6 col-lg-6 q-mt-sm"},null,8,["modelValue"])):s("",!0),e.model2=="Interino(a)"?(i(),r(m,{key:5,outlined:"",dense:"",modelValue:e.addInfo.chef_PERH_interino_funcao,"onUpdate:modelValue":n[10]||(n[10]=o=>e.addInfo.chef_PERH_interino_funcao=o),label:"Informe a fun\xE7\xE3o do Chefe de Secc\xE3o Interino",class:"col-xs-12 col-sm-12 col-md-6 col-lg-6 q-mt-sm"},null,8,["modelValue"])):s("",!0)])])]),_:1}),l(B,{align:"right",class:"bg-white text-teal"},{default:a(()=>[y(l(u,{flat:"",icon:"mdi-close",label:"Cancelar"},null,512),[[D]]),y(l(u,{flat:"",icon:"mdi-cloud-print",label:"Documento",onClick:n[11]||(n[11]=o=>e.printDoc())},null,512),[[D]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(z,{modelValue:e.modal2,"onUpdate:modelValue":n[20]||(n[20]=o=>e.modal2=o)},{default:a(()=>[l(G,{style:{width:"700px","max-width":"80vw"}},{default:a(()=>[l(uo,{onSubmit:ro(e.printDoc2,["prevent"])},{default:a(()=>[l(k,null,{default:a(()=>[c.$q.platform.is.desktop?(i(),_("div",ho,[l(V,{name:"mdi-cloud-print"}),I(" Documento: "),So])):s("",!0),c.$q.platform.is.mobile?(i(),_("div",Ro,[l(V,{name:"mdi-cloud-print"}),I(" Documento: "),No])):s("",!0)]),_:1}),l(k,{class:"q-pt-none"},{default:a(()=>[t("div",To,[l(m,g({class:"q-mt-md col-12",label:"Provincia a que pertence a direc\xE7\xE3o",dense:""},{...e.inputConfig},{modelValue:e.addInfo.provincia,"onUpdate:modelValue":n[13]||(n[13]=o=>e.addInfo.provincia=o),rules:[o=>o&&!!o||"Porfavor informe o nome da prov\xEDncia"]}),null,16,["modelValue","rules"]),l(m,g({class:"q-mt-sm col-12",label:"Munic\xEDpio a que pertence a Direc\xE7ao",dense:""},{...e.inputConfig},{modelValue:e.addInfo.municipio,"onUpdate:modelValue":n[14]||(n[14]=o=>e.addInfo.municipio=o),rules:[o=>o&&!!o||"Porfavor informe o Munic\xEDpio"]}),null,16,["modelValue","rules"]),l(Q,g({modelValue:e.addInfo.escola_id,"onUpdate:modelValue":n[15]||(n[15]=o=>e.addInfo.escola_id=o),options:e.escolas,"option-value":"nome","option-label":"nome","map-options":"","emit-value":"",label:"Selecione a escola onde ser\xE1 colocado",rules:[o=>o&&!!o||"Porfavor a escola a que pertence"]},{...e.inputConfig},{class:"col-xs-12 col-sm-12 col-md-12 col-lg-12 q-mt-sm"}),null,16,["modelValue","options","rules"]),Ho,t("div",Ao,[l(Q,g({outlined:"",dense:"",modelValue:e.model,"onUpdate:modelValue":n[16]||(n[16]=o=>e.model=o),options:e.options,label:"Quem assinar\xE1 o termo ?",class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},{...e.inputConfig},{rules:[o=>o&&!!o||"Porfavor selecione quem assinar\xE1 o documento"]}),null,16,["modelValue","options","rules"]),e.model=="Director Municipal"?(i(),r(m,g({key:0,outlined:"",dense:"",modelValue:e.addInfo.directoMunicipal,"onUpdate:modelValue":n[17]||(n[17]=o=>e.addInfo.directoMunicipal=o),label:"Informe o nome do Director Municipal",class:"col-xs-12 col-sm-12 col-md-6 col-lg-6 q-mt-sm"},{...e.inputConfig},{rules:[o=>o&&!!o||"Porfavor informe o nome do Director Municipal"]}),null,16,["modelValue","rules"])):s("",!0),e.model=="Director Interino"?(i(),r(m,g({key:1,outlined:"",dense:"",modelValue:e.addInfo.directoMunicipal_interino,"onUpdate:modelValue":n[18]||(n[18]=o=>e.addInfo.directoMunicipal_interino=o),label:"Informe o nome do Director Municipal Interino",class:"col-xs-12 col-sm-12 col-md-6 col-lg-6 q-mt-sm"},{...e.inputConfig},{rules:[o=>o&&!!o||"Porfavor informe o nome do Director em Interino"]}),null,16,["modelValue","rules"])):s("",!0),e.model=="Director Interino"?(i(),r(m,g({key:2,outlined:"",dense:"",modelValue:e.addInfo.directoMunicipal_interino_funcao,"onUpdate:modelValue":n[19]||(n[19]=o=>e.addInfo.directoMunicipal_interino_funcao=o),label:"Informe a fun\xE7\xE3o do Director Municipal Interino",class:"col-xs-12 col-sm-12 col-md-6 col-lg-6 q-mt-sm"},{...e.inputConfig},{rules:[o=>o&&!!o||"Porfavor informe a fun\xE7\xE3o do DIrector Interino"]}),null,16,["modelValue","rules"])):s("",!0)])])]),_:1}),l(B,{align:"right",class:"bg-white text-teal"},{default:a(()=>[y(l(u,{flat:"",icon:"mdi-close",label:"Cancelar"},null,512),[[D]]),l(u,{type:"submit",flat:"",icon:"mdi-cloud-print",label:"Gerar Guia de Coloca\xE7\xE3o"})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})}var pe=lo(yo,[["render",Fo]]);export{pe as default};
