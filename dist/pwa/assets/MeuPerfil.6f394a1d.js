import{_ as c,C as g,D as V,r as _,z as v,E as Q,p as C,q as P,s as n,t as a,H as d,Q as y,x as b,K as x,aT as A,aS as h,bq as w,aZ as m,N as s,I as z}from"./index.bc90a1a6.js";import{Q as U}from"./QForm.d8ddec26.js";import{Q as q}from"./QPage.f48c0666.js";import{a as S,b as B}from"./QLayout.c9624849.js";import{i as M}from"./inputVisual.14accdd7.js";import{u as N}from"./use-quasar.c935fd80.js";import"./userApi.9d724f7f.js";import{a as k}from"./adminAccessOp.d4f45b82.js";import"./QSelect.1664c3a2.js";import"./position-engine.8c426333.js";import"./selection.bbfae355.js";import"./QItemLabel.d3c30afe.js";import"./QMenu.456c4d11.js";import"./rtl.b51694b1.js";const I={components:{adminAccessOp:k},setup(p){const{updateUser:o,user:t,logout:e}=g(),u=V(),i=N(),r=_({name:"",phone:"",email:"",photoURL:"",file_name:"",role:"",emailAdmin:t.value.email,status:!0});return v(()=>{console.log(t.value),r.value.name=t.value.user_metadata.name,r.value.phone=t.value.user_metadata.phone,r.value.email=t.value.email}),{inputConfig:M,form:r,updatePerfil:async()=>{try{i.loading.show({message:"Actualizar perfil"}),await o(r.value),i.dialog({title:"Perfil actualizado",message:`Perfil actualizado com \xE9xito.

Voc\xEA ser\xE1 deslogado do sistema, entre com novas credenciais`,ok:!0,persistent:!0}),e(),u.push({name:"loginPage"})}catch(f){console.log(f),i.notify({message:"Error ao actualizar perfil",color:"negative",position:"top-right",icon:"mdi-alert"})}finally{i.loading.hide()}}}}},E={class:"row q-pa-md q-gutter-sm flex-center"},L={class:"col-12 q-mb-lg text-body2"};function R(p,o,t,e,u,i){const r=Q("admin-access-op");return C(),P(S,null,{default:n(()=>[a(B,null,{default:n(()=>[a(q,{padding:""},{default:n(()=>[d("div",E,[d("p",L,[a(y,{size:"md",color:"primary",name:"mdi-account"}),b(" Meu Perfil ")])]),a(x),a(A,null,{default:n(()=>[a(h,null,{default:n(()=>[a(U,{class:"q-gutter-sm",onSubmit:w(e.updatePerfil,["prevent"])},{default:n(()=>[a(m,s({modelValue:e.form.name,"onUpdate:modelValue":o[0]||(o[0]=l=>e.form.name=l)},{...e.inputConfig}),null,16,["modelValue"]),a(m,s({modelValue:e.form.email,"onUpdate:modelValue":o[1]||(o[1]=l=>e.form.email=l)},{...e.inputConfig}),null,16,["modelValue"]),a(m,s({modelValue:e.form.phone,"onUpdate:modelValue":o[2]||(o[2]=l=>e.form.phone=l)},{...e.inputConfig}),null,16,["modelValue"]),a(m,s({label:"Actualizar senha",type:"password",modelValue:e.form.password,"onUpdate:modelValue":o[3]||(o[3]=l=>e.form.password=l)},{...e.inputConfig}),null,16,["modelValue"]),a(r,{emailAccess:e.form.emailAdmin,modelValue:e.form.role,"onUpdate:modelValue":o[4]||(o[4]=l=>e.form.role=l)},null,8,["emailAccess","modelValue"]),a(z,{type:"submit","no-caps":"",label:"Actualizar perfif",icon:"mdi-account",color:"primary"})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var ee=c(I,[["render",R]]);export{ee as default};
