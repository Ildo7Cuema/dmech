import{_ as B,r as d,H as p,I as v,a0 as i,R as G,P as Z,bo as h,k as Q,o as $,T as u,S as oo,J as c,K as l,bp as ao,W as V,N as q,aY as n,L as C,V as eo,Y as lo,X as A,aU as io,aV as no}from"./index.35821edc.js";import{Q as s}from"./QSelect.e06743c9.js";import{Q as ro}from"./QForm.68d4e1ce.js";import{Q as mo}from"./QPage.a66fc822.js";import{a as so,b as to}from"./QLayout.d35a44ea.js";import{u as uo}from"./useNotify.4729e429.js";import{u as fo}from"./userApi.885d4b06.js";import{u as co}from"./use-quasar.0c1c42d6.js";import{i as D,b as po}from"./inputVisual.14accdd7.js";import{f as Vo}from"./formatCurrency.6090a7ed.js";import"./QMenu.c301a8bc.js";import"./selection.364e49a0.js";import"./QItemLabel.ce2d3637.js";import"./rtl.b51694b1.js";const go={props:{emailAccess:{type:String,require:!0}},setup(){return{options:d(["Secretaria-DME","RH-DME","Docente","Estudante","Encarregado"]),inputConfig:D}}};function bo(r,e,y,a,U,I){return p(),v(s,i({options:a.options,"option-label":"name",label:"Selecione o nivel de acesso"},{...a.inputConfig},{"lazy-roles":"",roles:[g=>!!g||"Selecione um n\xEDvel de acesso"]}),null,16,["options","roles"])}var vo=B(go,[["render",bo]]);const _o={name:"form-categoria",components:{adminAccessOther:vo},setup(){const{postFuncionario:r,getById:e,update:y,list:a,remove:U,uploadImage:I,fileName:g}=fo(),{notifyError:o,notifySuccess:x}=uo(),b="funcionarios",N=G(),{user:f}=Z(),z={decimal:".",thousands:",",prefix:"$ ",suffix:" #",precision:2,masked:!1},F=h(),M=co(),L=d(["Masculino","Femenino"]),R=d(["T\xE9cnico Basico","T\xE9cnico m\xE9dio","Licenciado(a)","Mestre","Phd"]),O=d(["Em efectivo servi\xE7o","Em estado provis\xF3rio"]),H=d(["Sim","N\xE3o"]),T=d(["Casado (a)","Solteiro (a)"]),E=d([]),k=d([]),P=d([]),t=d({name:"",nome_pai:"",nome_mae:"",num_agente:"",num_bilhete:"",phone:"",data_emissao:"",data_caducidade:"",data_nascimento:"",num_conta_bancaria:"",email:"",genero:"",data_inicio_funcao:"",provincia:"",municipio:"",comuna:"",localidade:"",status_nomeacao:"",categoria_id:"",escola_id:"",habilitacao:"",area_formacao:"",instituto_formacao:"",img_url:"",file_name:"",salario_base:0,salario_liquido:0,nivelAcademico:"",salario_base_extenso:"",salario_liquido_extenso:"",cituacao_funcionario:"",estado_civil:"",balcao_domicilio:"",balcao_domicilio_provincia:"",balcao_domicilio_municipio:"",role:"",password:""}),_=Q(()=>F.params.id),Y=async()=>{E.value=await a("categorias",S.value)},j=async()=>{k.value=await a("escolas",S.value)},J=async m=>{try{M.dialog({title:"Confirma\xE7\xE3o",message:`tens a certeza que pretendes eliminar ${m.nome} ?`,cancel:!0,persistent:!0}).onOk(async()=>{u.show({message:"Apagando informa\xE7\xE3o do funcion\xE1rio..."}),await U(b,m.id),N.push({name:"funcionario"}),x("Funcion\xE1rio apagado com sucesso")})}catch(w){o(w.message)}finally{u.hide()}};$(()=>{Y(),j(),_.value&&K(b,_.value)});const K=async(m,w)=>{try{u.show({message:"Carregando informa\xE7\xF5es"}),t.value=await e(m,w)}catch(X){o(X.message)}finally{u.hide()}},W=async()=>{try{P.value.length>0&&await I(P.value[0],"sgdme").then(m=>{t.value.img_url=m,t.value.file_name=g}),_.value?(u.show({message:"Actualiza\xE7\xE3o em processamento"}),await y(b,t.value),x("Funcion\xE1rio actualizado com sucesso")):(u.show({message:"Cadastro em processamento"}),await r(b,t.value),x("Funcion\xE1rio cadastrada com sucesso"))}catch(m){o(m.message)}finally{u.hide(),N.push({name:"funcionarios"})}},S=Q(()=>f.value.id!=f.value.user_metadata.organization_id?(console.log(f.value.user_metadata.organization_id),f.value.user_metadata.organization_id):(console.log(f.value.id),f.value.id));return{form:t,isUpdate:_,valorNumber:m=>{t.value.salario_base=m},table:b,image:P,deletarItem:J,addItems:W,categorias:E,escolas:k,options:L,btnConfig:po,inputConfig:D,nivelAcademico:R,formatCurrency:Vo,moneyFormatForDirective:z,cituacao_fucnionario:O,estado_civil:T,estado_nomeacao:H,isDiferentID:S}}},Co=r=>(io("data-v-2806a4d9"),r=r(),no(),r),yo={class:"col-12 text-body3 text-center q-mt-lg"},Uo={class:"col-md-6 col-sm-6 col-xs-10 q-gutter-y-sm"},Io={class:"text-xxs text-primary meu-tamanho"},xo={class:"text-xxs text-primary meu-tamanho"},Po={key:1},So=Co(()=>V("div",{class:"col-12 text-center"},[V("b",null,"Atribuir uma conta para este funcionario")],-1));function wo(r,e,y,a,U,I){const g=oo("admin-access-other");return p(),v(so,null,{default:c(()=>[l(to,null,{default:c(()=>[l(mo,{padding:""},{default:c(()=>[l(ro,{class:"row justify-center",onSubmit:ao(a.addItems,["prevent"])},{default:c(()=>[V("p",yo,q(a.isUpdate?"Actualizar dados do funcion\xE1rio":"Cadastrar novo funcion\xE1rio"),1),V("div",Uo,[l(n,i({label:"Carregue uma foto do tipo passe","stack-label":"",modelValue:a.image,"onUpdate:modelValue":e[0]||(e[0]=o=>a.image=o),multiple:"",filled:"",type:"file",accept:"image/*"},{...a.inputConfig}),null,16,["modelValue"]),l(n,i({modelValue:a.form.name,"onUpdate:modelValue":e[1]||(e[1]=o=>a.form.name=o),label:"Nome completo",class:"col-12",rules:[o=>!!o||"Porfavor digite o nome da escola"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.nome_pai,"onUpdate:modelValue":e[2]||(e[2]=o=>a.form.nome_pai=o),label:"Nome do pai",class:"col-12",rules:[o=>!!o||"Porfavor o nome do pai"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.nome_mae,"onUpdate:modelValue":e[3]||(e[3]=o=>a.form.nome_mae=o),label:"Nome da ma\xEA",class:"col-12",rules:[o=>!!o||"Porfavor o nome da ma\xEA"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.phone,"onUpdate:modelValue":e[4]||(e[4]=o=>a.form.phone=o),label:"N\xBA do telem\xF3vel",class:"col-12",rules:[o=>!!o||"Porfavor informe o n\xBA do telem\xF3vel",o=>o&&o.length==9||"O n\xBA do telem\xF3vel tem de ter no m\xEDnimo 9 d\xEDgitos"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({class:"col-12"},{...a.inputConfig},{modelValue:a.form.email,"onUpdate:modelValue":e[5]||(e[5]=o=>a.form.email=o),label:"E-mail"}),null,16,["modelValue"]),l(n,i({modelValue:a.form.num_bilhete,"onUpdate:modelValue":e[6]||(e[6]=o=>a.form.num_bilhete=o),label:"N\xBA do bilhete",class:"col-12",rules:[o=>!!o||"Porfavor informe o n\xBA do Bilhete",o=>o&&o.length==14||"O n\xBA do Bilhete tem de ter no m\xEDnimo 14 caracteres"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.data_emissao,"onUpdate:modelValue":e[7]||(e[7]=o=>a.form.data_emissao=o),label:"Data de emiss\xE3o",class:"col-12",type:"date",rules:[o=>!!o||"Porfavor informe a data de emiss\xE3o"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.data_caducidade,"onUpdate:modelValue":e[8]||(e[8]=o=>a.form.data_caducidade=o),label:"Data de caducidade",class:"col-12",type:"date",rules:[o=>!!o||"Porfavor informe a data de caducidade"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.data_nascimento,"onUpdate:modelValue":e[9]||(e[9]=o=>a.form.data_nascimento=o),label:"Data de nascimento",class:"col-12",type:"date",rules:[o=>!!o||"Porfavor informe a data de nascimento"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(s,i({modelValue:a.form.genero,"onUpdate:modelValue":e[10]||(e[10]=o=>a.form.genero=o),options:a.options,"option-label":"name",label:"Selecione o g\xEAnero",rules:[o=>!!o||"Porfavor informe o g\xEAnero do funcion\xE1rio"]},{...a.inputConfig}),null,16,["modelValue","options","rules"]),l(s,i({modelValue:a.form.estado_civil,"onUpdate:modelValue":e[11]||(e[11]=o=>a.form.estado_civil=o),options:a.estado_civil,"option-label":"name",label:"Estado Civil",rules:[o=>!!o||"Porfavor informe o estado civil"]},{...a.inputConfig}),null,16,["modelValue","options","rules"]),l(s,i({modelValue:a.form.nivelAcademico,"onUpdate:modelValue":e[12]||(e[12]=o=>a.form.nivelAcademico=o),options:a.nivelAcademico,"option-label":"name",label:"Selecione o n\xEDvel acad\xEAmico",rules:[o=>!!o||"Porfavor informe o n\xEDvel acad\xEAmico do funcion\xE1rio"]},{...a.inputConfig}),null,16,["modelValue","options","rules"]),l(n,i({modelValue:a.form.data_inicio_funcao,"onUpdate:modelValue":e[13]||(e[13]=o=>a.form.data_inicio_funcao=o),label:"Data de in\xEDcio de fun\xE7\xE3o",class:"col-12",type:"date",rules:[o=>!!o||"Porfavor informe a data de in\xEDcio de fun\xE7\xE3o"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.num_agente,"onUpdate:modelValue":e[14]||(e[14]=o=>a.form.num_agente=o),label:"N\xBA de agente",class:"col-12",rules:[o=>!!o||"Porfavor informe o n\xBA de agente"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(s,i({modelValue:a.form.cituacao_funcionario,"onUpdate:modelValue":e[15]||(e[15]=o=>a.form.cituacao_funcionario=o),options:a.cituacao_fucnionario,"option-label":"name",label:"Selecione a citua\xE7\xE3o do funcion\xE1rio",rules:[o=>!!o||"Porfavor informe a citua\xE7\xE3o do funcion\xE1rio"]},{...a.inputConfig}),null,16,["modelValue","options","rules"]),l(n,i({modelValue:a.form.provincia,"onUpdate:modelValue":e[16]||(e[16]=o=>a.form.provincia=o),label:"Provincia",class:"col-12",rules:[o=>!!o||"Informe a prov\xEDncia"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.municipio,"onUpdate:modelValue":e[17]||(e[17]=o=>a.form.municipio=o),label:"Munic\xEDpio",class:"col-12",rules:[o=>!!o||"Informe o munic\xEDpio"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.comuna,"onUpdate:modelValue":e[18]||(e[18]=o=>a.form.comuna=o),label:"Comuna",class:"col-12","lazy-rules":"",rules:[o=>!!o||"Informe a Comuna"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.localidade,"onUpdate:modelValue":e[19]||(e[19]=o=>a.form.localidade=o),label:"Localidade",class:"col-12",rules:[o=>!!o||"Informe a localidade"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(s,i({modelValue:a.form.categoria_id,"onUpdate:modelValue":e[20]||(e[20]=o=>a.form.categoria_id=o),options:a.categorias,"option-value":"id","option-label":"categoria","map-options":"","emit-value":"",label:"Selecione uma categoria",rules:[o=>!!o||"Porfavor Selecione uma categoria"]},{...a.inputConfig}),null,16,["modelValue","options","rules"]),l(s,i({modelValue:a.form.status_nomeacao,"onUpdate:modelValue":e[21]||(e[21]=o=>a.form.status_nomeacao=o),options:a.estado_nomeacao,"option-label":"name",label:"\xC9 nomeado para um cargo ?",rules:[o=>!!o||"Porfavor o status de nomeacao"]},{...a.inputConfig}),null,16,["modelValue","options","rules"]),a.form.status_nomeacao=="Sim"?(p(),v(n,i({key:0,modelValue:a.form.nome_cargo,"onUpdate:modelValue":e[22]||(e[22]=o=>a.form.nome_cargo=o),label:"Informe o cargo",class:"col-12",rules:[o=>!!o||"Informe o cargo deste funcion\xE1rio"]},{...a.inputConfig}),null,16,["modelValue","rules"])):C("",!0),l(n,i({type:"numeric",modelValue:a.form.salario_base,"onUpdate:modelValue":e[23]||(e[23]=o=>a.form.salario_base=o),label:"Vencimento Base",class:"col-12",rules:[o=>!!o||"Informe o sal\xE1rio base"]},{...a.inputConfig}),{append:c(()=>[V("span",Io,q(a.formatCurrency(a.form.salario_base)),1)]),_:1},16,["modelValue","rules"]),l(n,i({class:"col-12"},{...a.inputConfig},{rules:[o=>!!o||"Informe o sal\xE1rio base por extenso"],modelValue:a.form.salario_base_extenso,"onUpdate:modelValue":e[24]||(e[24]=o=>a.form.salario_base_extenso=o),label:"Escreva o sal\xE1rio base por extenso"}),null,16,["rules","modelValue"]),l(n,i({modelValue:a.form.salario_liquido,"onUpdate:modelValue":e[25]||(e[25]=o=>a.form.salario_liquido=o),label:"Vencimento L\xEDquido",class:"col-12",rules:[o=>!!o||"Informe o sal\xE1rio l\xEDquido"]},{...a.inputConfig},{ref:"inputRef"}),{append:c(()=>[V("span",xo,q(a.formatCurrency(a.form.salario_liquido)),1)]),_:1},16,["modelValue","rules"]),l(n,i({class:"col-12"},{...a.inputConfig},{rules:[o=>!!o||"Informe o sal\xE1rio liquido por extenso"],modelValue:a.form.salario_liquido_extenso,"onUpdate:modelValue":e[26]||(e[26]=o=>a.form.salario_liquido_extenso=o),label:"Escreva o sal\xE1rio l\xEDquido por extenso"}),null,16,["rules","modelValue"]),l(n,i({class:"col-12"},{...a.inputConfig},{rules:[o=>!!o||"Informe o nome do balc\xE3o onde \xE9 domiciliado o sal\xE1rio"],modelValue:a.form.balcao_domicilio,"onUpdate:modelValue":e[27]||(e[27]=o=>a.form.balcao_domicilio=o),label:"Balc\xE3o onde \xE9 domiciliado o sal\xE1rio"}),null,16,["rules","modelValue"]),l(n,i({class:"col-12"},{...a.inputConfig},{rules:[o=>!!o||"Informe o n\xBA da conta banc\xE1ria"],modelValue:a.form.num_conta_bancaria,"onUpdate:modelValue":e[28]||(e[28]=o=>a.form.num_conta_bancaria=o),label:"N\xBA da conta banc\xE1ria"}),null,16,["rules","modelValue"]),l(n,i({class:"col-12"},{...a.inputConfig},{rules:[o=>!!o||"Informe o nome da prov\xEDncia onde se encotra este balc\xE3o"],modelValue:a.form.balcao_domicilio_provincia,"onUpdate:modelValue":e[29]||(e[29]=o=>a.form.balcao_domicilio_provincia=o),label:"Prov\xEDncia onde se encotra este balc\xE3o"}),null,16,["rules","modelValue"]),l(n,i({class:"col-12"},{...a.inputConfig},{rules:[o=>!!o||"Informe o nome da prov\xEDncia onde se encotra este balc\xE3o"],modelValue:a.form.balcao_domicilio_municipio,"onUpdate:modelValue":e[30]||(e[30]=o=>a.form.balcao_domicilio_municipio=o),label:"Munic\xEDpio onde se encotra este balc\xE3o"}),null,16,["rules","modelValue"]),l(s,i({modelValue:a.form.escola_id,"onUpdate:modelValue":e[31]||(e[31]=o=>a.form.escola_id=o),options:a.escolas,"option-value":"id","option-label":"name","map-options":"","emit-value":"",label:"Selecione a escola a que pertence",rules:[o=>!!o||"Porfavor a escola a que pertence"]},{...a.inputConfig}),null,16,["modelValue","options","rules"]),l(n,i({modelValue:a.form.habilitacao,"onUpdate:modelValue":e[32]||(e[32]=o=>a.form.habilitacao=o),label:"Habilita\xE7\xE3o",class:"col-12",rules:[o=>!!o||"Informe a habilita\xE7\xE3o"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.area_formacao,"onUpdate:modelValue":e[33]||(e[33]=o=>a.form.area_formacao=o),label:"\xC1rea de forma\xE7\xE3o",class:"col-12",rules:[o=>!!o||"Informe a \xE1rea de forma\xE7\xE3o"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.instituto_formacao,"onUpdate:modelValue":e[34]||(e[34]=o=>a.form.instituto_formacao=o),label:"Instituto de forma\xE7\xE3o",class:"col-12",rules:[o=>!!o||"Informe o nome da institui\xE7\xE3o onde se formou"]},{...a.inputConfig}),null,16,["modelValue","rules"]),a.isUpdate==null?(p(),eo("div",Po,[l(lo),So,l(n,i({modelValue:a.form.email,"onUpdate:modelValue":e[35]||(e[35]=o=>a.form.email=o),type:"email",label:"Informe o e-mail da escola",class:"col-6",rules:[o=>!!o||"Porfavor informe um e-mail"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.password,"onUpdate:modelValue":e[36]||(e[36]=o=>a.form.password=o),type:"password",label:"Informe uma palavra passe",class:"col-6",rules:[o=>!!o||"Porfavor uma palavra passe"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(g,{modelValue:a.form.role,"onUpdate:modelValue":e[37]||(e[37]=o=>a.form.role=o)},null,8,["modelValue"])])):C("",!0),l(A,i({type:"submit",icon:a.isUpdate?"mdi-file-edit-outline":"mdi-content-save-all",class:"full-width",label:a.isUpdate?"Actualizar dados do funcion\xE1rio":"Cadastrar o funcion\xE1rio"},{...a.btnConfig}),null,16,["icon","label"]),r.$q.platform.is.mobile&&a.isUpdate?(p(),v(A,{key:2,onClick:e[38]||(e[38]=o=>a.deletarItem(a.form)),outline:"",icon:"mdi-delete-empty",color:"negative",class:"full-width",label:"Apagar dados do  funcion\xE1rio","no-caps":""})):C("",!0),r.$q.platform.is.mobile?(p(),v(A,{key:3,flat:"",icon:"mdi-format-list-bulleted",color:"primary",class:"full-width q-pa-sm",label:"Lista de funcion\xE1rios",to:{name:"funcionarios"}})):C("",!0)])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})}var To=B(_o,[["render",wo],["__scopeId","data-v-2806a4d9"]]);export{To as default};
