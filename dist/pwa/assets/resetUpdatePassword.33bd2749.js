import{_ as p,C as f,D as h,bp as g,r as w,p as y,q as _,s as o,P as c,t as a,bq as P,H as u,aZ as Q,N as b,Q as q,I as r}from"./index.e70dc7e8.js";import{Q as v}from"./QForm.7b26f9a5.js";import{Q as x}from"./QPage.63b09b87.js";import{a as k,b as C}from"./QLayout.ca9f809c.js";import{u as S}from"./use-quasar.4cac9bb9.js";import{u as V}from"./useNotify.e83fbf31.js";import{i as B}from"./inputVisual.14accdd7.js";const U={name:"form-login",setup(){const{resetPassword:n}=f(),{notifyError:t,notifySuccess:l}=V();S();const e=h(),i=g().query.token,s=w("");return{password:s,updatePassword:async()=>{try{c.show({message:"Porfavor aguarde..."}),await n(i,s.value),e.push({name:"loginPage"}),l("Senha alterada com sucesso")}catch(m){t(m.message)}finally{c.hide()}},inputConfig:B}}},E=u("p",{class:"col-12 text-h5 text-center q-mt-lg"},"Redefini\xE7\xE3o de senha",-1),I={class:"col-md-4 col-sm-6 col-xs-10 q-gutter-y-sm"};function N(n,t,l,e,d,i){return y(),_(k,null,{default:o(()=>[a(C,null,{default:o(()=>[a(x,{padding:""},{default:o(()=>[a(v,{class:"row justify-center",onSubmit:P(e.updatePassword,["prevent"])},{default:o(()=>[E,u("div",I,[a(Q,b({...e.inputConfig},{modelValue:e.password,"onUpdate:modelValue":t[0]||(t[0]=s=>e.password=s),label:"Senha",class:"col-12",type:"password","lazy-rules":"",rules:[s=>s&&s.length>=6||"Porfavor digite a sua nova senha"]}),{prepend:o(()=>[a(q,{name:"mdi-key-chain"})]),_:1},16,["modelValue","rules"]),a(r,{type:"submit",label:"Enviar nova senha",class:"full-width q-mt-lg",color:"primary","no-caps":"",icon:"lock"}),a(r,{to:{name:"resetPassword"},flat:"",label:"Esqueci minha senha",class:"full-width q-mt-md",color:"primary","no-caps":""}),a(r,{to:{name:"createUser"},flat:"",label:"Criar uma conta",class:"full-width q-mt-md",color:"primary","no-caps":""})])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})}var M=p(U,[["render",N]]);export{M as default};
