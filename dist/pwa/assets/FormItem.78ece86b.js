import{_ as O,P as T,bm as W,r as m,j as G,o as J,S as s,G as C,H as y,I as t,J as l,bn as K,V,M as U,aW as n,$ as i,W as x,K as N}from"./index.dd130778.js";import{Q as u}from"./QSelect.fe265749.js";import{Q as X}from"./QForm.8d5efb5c.js";import{Q as Y}from"./QPage.cd22ce20.js";import{a as Z,b as h}from"./QLayout.0b5dd0e9.js";import{u as $}from"./useNotify.022cb0a8.js";import{u as oo}from"./userApi.88ef93f5.js";import{u as ao}from"./use-quasar.9c87f47a.js";import{b as eo,i as lo}from"./inputVisual.14accdd7.js";import{f as io}from"./formatCurrency.6090a7ed.js";import"./QMenu.14684d20.js";import"./selection.3d2b946a.js";import"./QItemLabel.2584d57e.js";import"./rtl.b51694b1.js";const no={name:"form-categoria",components:{},setup(){const{post:c,getById:e,update:I,list:a,remove:P,uploadImage:q,fileName:o}=oo(),{notifyError:p,notifySuccess:b}=$(),f="funcionarios",w=T(),Q={decimal:".",thousands:",",prefix:"$ ",suffix:" #",precision:2,masked:!1},B=W(),F=ao(),k=m(["Masculino","Femenino"]),E=m(["T\xE9cnico Basico","T\xE9cnico m\xE9dio","Licenciado(a)","Mestre","Phd"]),z=m(["Em efectivo servi\xE7o","Em estado provis\xF3rio"]),D=m(["Casado (a)","Solteiro (a)"]),S=m([]),A=m([]),v=m([]),d=m({nome:"",nome_pai:"",nome_mae:"",num_agente:"",num_bilhete:"",data_emissao:"",data_caducidade:"",data_nascimento:"",genero:"",data_inicio_funcao:"",provincia:"",municipio:"",comuna:"",localidade:"",categoria_id:"",escola_id:"",habilitacao:"",area_formacao:"",instituto_formacao:"",img_url:"",file_name:"",salario_base:0,salario_liquido:0,nivelAcademico:"",salario_base_extenso:"",salario_liquido_extenso:"",cituacao_funcionario:"",estado_civil:""}),g=G(()=>B.params.id),M=async()=>{S.value=await a("categorias")},L=async()=>{A.value=await a("escolas")},R=async r=>{try{F.dialog({title:"Confirma\xE7\xE3o",message:`tens a certeza que pretendes eliminar ${r.nome} ?`,cancel:!0,persistent:!0}).onOk(async()=>{s.show({message:"Apagando informa\xE7\xE3o do funcion\xE1rio..."}),await P(f,r.id),w.push({name:"funcionario"}),b("Funcion\xE1rio apagado com sucesso")})}catch(_){p(_.message)}finally{s.hide()}};J(()=>{M(),L(),g.value&&j(f,g.value)});const j=async(r,_)=>{try{s.show({message:"Carregando informa\xE7\xF5es"}),d.value=await e(r,_)}catch(H){p(H.message)}finally{s.hide()}};return{form:d,isUpdate:g,valorNumber:r=>{d.value.salario_base=r},table:f,image:v,deletarItem:R,addItems:async()=>{try{v.value.length>0&&await q(v.value[0],"sgdme").then(r=>{d.value.img_url=r,d.value.file_name=o}),g.value?(s.show({message:"Actualiza\xE7\xE3o em processamento"}),await I(f,d.value),b("Funcion\xE1rio actualizado com sucesso")):(s.show({message:"Cadastro em processamento"}),await c(f,d.value),b("Funcion\xE1rio cadastrada com sucesso"))}catch(r){p(r.message)}finally{s.hide(),w.push({name:"funcionarios"})}},categorias:S,escolas:A,options:k,btnConfig:eo,inputConfig:lo,nivelAcademico:E,formatCurrency:io,moneyFormatForDirective:Q,cituacao_fucnionario:z,estado_civil:D}}},ro={class:"col-12 text-body3 text-center q-mt-lg"},mo={class:"col-md-6 col-sm-6 col-xs-10 q-gutter-y-sm"},so={class:"text-xxs text-primary meu-tamanho"},to={class:"text-xxs text-primary meu-tamanho"};function uo(c,e,I,a,P,q){return C(),y(Z,null,{default:t(()=>[l(h,null,{default:t(()=>[l(Y,{padding:""},{default:t(()=>[l(X,{class:"row justify-center",onSubmit:K(a.addItems,["prevent"])},{default:t(()=>[V("p",ro,U(a.isUpdate?"Actualizar dados do funcion\xE1rio":"Cadastrar novo funcion\xE1rio"),1),V("div",mo,[l(n,i({label:"Carregue uma foto do tipo passe","stack-label":"",modelValue:a.image,"onUpdate:modelValue":e[0]||(e[0]=o=>a.image=o),multiple:"",filled:"",type:"file",accept:"image/*"},{...a.inputConfig}),null,16,["modelValue"]),l(n,i({modelValue:a.form.nome,"onUpdate:modelValue":e[1]||(e[1]=o=>a.form.nome=o),label:"Nome completo",class:"col-12",rules:[o=>!!o||"Porfavor digite o nome da escola"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.nome_pai,"onUpdate:modelValue":e[2]||(e[2]=o=>a.form.nome_pai=o),label:"Nome do pai",class:"col-12",rules:[o=>!!o||"Porfavor o nome do pai"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.nome_mae,"onUpdate:modelValue":e[3]||(e[3]=o=>a.form.nome_mae=o),label:"Nome da ma\xEA",class:"col-12",rules:[o=>!!o||"Porfavor o nome da ma\xEA"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.num_bilhete,"onUpdate:modelValue":e[4]||(e[4]=o=>a.form.num_bilhete=o),label:"N\xBA do bilhete",class:"col-12",rules:[o=>!!o||"Porfavor informe o n\xBA do Bilhete",o=>o&&o.length==14||"O n\xBA do Bilhete tem de ter no m\xEDnimo 14 caracteres"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.data_emissao,"onUpdate:modelValue":e[5]||(e[5]=o=>a.form.data_emissao=o),label:"Data de emiss\xE3o",class:"col-12",type:"date",rules:[o=>!!o||"Porfavor informe a data de emiss\xE3o"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.data_caducidade,"onUpdate:modelValue":e[6]||(e[6]=o=>a.form.data_caducidade=o),label:"Data de caducidade",class:"col-12",type:"date",rules:[o=>!!o||"Porfavor informe a data de caducidade"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.data_nascimento,"onUpdate:modelValue":e[7]||(e[7]=o=>a.form.data_nascimento=o),label:"Data de nascimento",class:"col-12",type:"date",rules:[o=>!!o||"Porfavor informe a data de nascimento"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(u,i({modelValue:a.form.genero,"onUpdate:modelValue":e[8]||(e[8]=o=>a.form.genero=o),options:a.options,"option-label":"name",label:"Selecione o g\xEAnero",rules:[o=>!!o||"Porfavor informe o g\xEAnero do funcion\xE1rio"]},{...a.inputConfig}),null,16,["modelValue","options","rules"]),l(u,i({modelValue:a.form.estado_civil,"onUpdate:modelValue":e[9]||(e[9]=o=>a.form.estado_civil=o),options:a.estado_civil,"option-label":"name",label:"Estado Civil",rules:[o=>!!o||"Porfavor informe o estado civil"]},{...a.inputConfig}),null,16,["modelValue","options","rules"]),l(u,i({modelValue:a.form.nivelAcademico,"onUpdate:modelValue":e[10]||(e[10]=o=>a.form.nivelAcademico=o),options:a.nivelAcademico,"option-label":"name",label:"Selecione o n\xEDvel acad\xEAmico",rules:[o=>!!o||"Porfavor informe o n\xEDvel acad\xEAmico do funcion\xE1rio"]},{...a.inputConfig}),null,16,["modelValue","options","rules"]),l(n,i({modelValue:a.form.data_inicio_funcao,"onUpdate:modelValue":e[11]||(e[11]=o=>a.form.data_inicio_funcao=o),label:"Data de in\xEDcio de fun\xE7\xE3o",class:"col-12",type:"date",rules:[o=>!!o||"Porfavor informe a data de in\xEDcio de fun\xE7\xE3o"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.num_agente,"onUpdate:modelValue":e[12]||(e[12]=o=>a.form.num_agente=o),label:"N\xBA de agente",class:"col-12",rules:[o=>!!o||"Porfavor informe o n\xBA de agente"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(u,i({modelValue:a.form.cituacao_funcionario,"onUpdate:modelValue":e[13]||(e[13]=o=>a.form.cituacao_funcionario=o),options:a.cituacao_fucnionario,"option-label":"name",label:"Selecione a citua\xE7\xE3o do funcion\xE1rio",rules:[o=>!!o||"Porfavor informe a citua\xE7\xE3o do funcion\xE1rio"]},{...a.inputConfig}),null,16,["modelValue","options","rules"]),l(n,i({modelValue:a.form.provincia,"onUpdate:modelValue":e[14]||(e[14]=o=>a.form.provincia=o),label:"Provincia",class:"col-12",rules:[o=>!!o||"Informe a prov\xEDncia"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.municipio,"onUpdate:modelValue":e[15]||(e[15]=o=>a.form.municipio=o),label:"Munic\xEDpio",class:"col-12",rules:[o=>!!o||"Informe o munic\xEDpio"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.comuna,"onUpdate:modelValue":e[16]||(e[16]=o=>a.form.comuna=o),label:"Comuna",class:"col-12","lazy-rules":"",rules:[o=>!!o||"Informe a Comuna"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.localidade,"onUpdate:modelValue":e[17]||(e[17]=o=>a.form.localidade=o),label:"Localidade",class:"col-12",rules:[o=>!!o||"Informe a localidade"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(u,i({modelValue:a.form.categoria_id,"onUpdate:modelValue":e[18]||(e[18]=o=>a.form.categoria_id=o),options:a.categorias,"option-value":"id","option-label":"categoria","map-options":"","emit-value":"",label:"Selecione uma categoria",rules:[o=>!!o||"Porfavor Selecione uma categoria"]},{...a.inputConfig}),null,16,["modelValue","options","rules"]),l(n,i({type:"numeric",modelValue:a.form.salario_base,"onUpdate:modelValue":e[19]||(e[19]=o=>a.form.salario_base=o),label:"Vencimento Base",class:"col-12",rules:[o=>!!o||"Informe o sal\xE1rio base"]},{...a.inputConfig}),{append:t(()=>[V("span",so,U(a.formatCurrency(a.form.salario_base)),1)]),_:1},16,["modelValue","rules"]),l(n,i({class:"col-12"},{...a.inputConfig},{rules:[o=>!!o||"Informe o sal\xE1rio base por extenso"],modelValue:a.form.salario_base_extenso,"onUpdate:modelValue":e[20]||(e[20]=o=>a.form.salario_base_extenso=o),label:"Escreva o sal\xE1rio base por extenso"}),null,16,["rules","modelValue"]),l(n,i({modelValue:a.form.salario_liquido,"onUpdate:modelValue":e[21]||(e[21]=o=>a.form.salario_liquido=o),label:"Vencimento L\xEDquido",class:"col-12",rules:[o=>!!o||"Informe o sal\xE1rio l\xEDquido"]},{...a.inputConfig},{ref:"inputRef"}),{append:t(()=>[V("span",to,U(a.formatCurrency(a.form.salario_liquido)),1)]),_:1},16,["modelValue","rules"]),l(n,i({class:"col-12"},{...a.inputConfig},{rules:[o=>!!o||"Informe o sal\xE1rio liquido por extenso"],modelValue:a.form.salario_liquido_extenso,"onUpdate:modelValue":e[22]||(e[22]=o=>a.form.salario_liquido_extenso=o),label:"Escreva o sal\xE1rio l\xEDquido por extenso"}),null,16,["rules","modelValue"]),l(u,i({modelValue:a.form.escola_id,"onUpdate:modelValue":e[23]||(e[23]=o=>a.form.escola_id=o),options:a.escolas,"option-value":"id","option-label":"nome","map-options":"","emit-value":"",label:"Selecione a escola a que pertence",rules:[o=>!!o||"Porfavor a escola a que pertence"]},{...a.inputConfig}),null,16,["modelValue","options","rules"]),l(n,i({modelValue:a.form.habilitacao,"onUpdate:modelValue":e[24]||(e[24]=o=>a.form.habilitacao=o),label:"Habilita\xE7\xE3o",class:"col-12",rules:[o=>!!o||"Informe a habilita\xE7\xE3o"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.area_formacao,"onUpdate:modelValue":e[25]||(e[25]=o=>a.form.area_formacao=o),label:"\xC1rea de forma\xE7\xE3o",class:"col-12",rules:[o=>!!o||"Informe a \xE1rea de forma\xE7\xE3o"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.instituto_formacao,"onUpdate:modelValue":e[26]||(e[26]=o=>a.form.instituto_formacao=o),label:"Instituto de forma\xE7\xE3o",class:"col-12",rules:[o=>!!o||"Informe o nome da institui\xE7\xE3o onde se formou"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(x,i({type:"submit",icon:a.isUpdate?"mdi-file-edit-outline":"mdi-content-save-all",class:"full-width",label:a.isUpdate?"Actualizar dados do funcion\xE1rio":"Cadastrar o funcion\xE1rio"},{...a.btnConfig}),null,16,["icon","label"]),c.$q.platform.is.mobile&&a.isUpdate?(C(),y(x,{key:0,onClick:e[27]||(e[27]=o=>a.deletarItem(a.form)),outline:"",icon:"mdi-delete-empty",color:"negative",class:"full-width",label:"Apagar dados do  funcion\xE1rio","no-caps":""})):N("",!0),c.$q.platform.is.mobile?(C(),y(x,{key:1,flat:"",icon:"mdi-format-list-bulleted",color:"primary",class:"full-width q-pa-sm",label:"Lista de funcion\xE1rios",to:{name:"funcionarios"}})):N("",!0)])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})}var So=O(no,[["render",uo],["__scopeId","data-v-deccf548"]]);export{So as default};
