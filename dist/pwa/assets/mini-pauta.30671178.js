import{Q as V}from"./QSelect.9e4cb652.js";import{aW as be,aC as ye,_ as U,o as te,w as ne,p as g,G as m,r as a,bp as qe,z as ae,E as j,t as x,H as t,v as p,y as n,M as Ce,L as Me,b8 as u,x as k,aU as Pe,aV as Ee,q as Q,s as G,aS as Be,I as oe,aT as Ve,C as Qe,bq as Ue}from"./index.e70dc7e8.js";import{Q as He}from"./QForm.7b26f9a5.js";import{Q as xe}from"./QPage.63b09b87.js";import{u as re}from"./escolas.10bad4c2.js";import{u as ze}from"./cursos.717f0f89.js";import{u as le}from"./classes.b7b7d12e.js";import{u as ie}from"./turmas.a4794dff.js";import{u as se}from"./periodos.7ed32d98.js";import{u as ce}from"./disciplinas.81aefc90.js";import{u as X}from"./use-quasar.4cac9bb9.js";import{u as Ye}from"./notas.5ce1c82a.js";import{Q as je}from"./QSpace.cccfce51.js";import{h as Ge}from"./html2pdf.6d7113a2.js";import{u as Re}from"./userApi.7be80cfa.js";import{h as he}from"./moment.40bc58bf.js";import"./position-engine.1f1eaf41.js";import"./selection.ded15137.js";import"./QItemLabel.f0026656.js";import"./QMenu.704bcb1b.js";import"./rtl.b51694b1.js";import"./useNotify.e83fbf31.js";const{supabase:Je}=ye(),We=be("ano_lectivo",{state:()=>({ano_lectivo:[]}),getters:{anoLectivoCount:r=>r.ano_lectivo.length},actions:{async getAllAnoLectivo(r){const{data:l,error:c}=await Je.from("anos_lectivo").select("ano_lectivo").eq("escola_id",r);if(c)throw c;return console.log(l),l}}}),Xe={props:{show:{type:Boolean,required:!0}},setup(r){const l=X();let c;te(()=>{c!==void 0&&(clearTimeout(c),l.loading.hide())}),ne(()=>r.show,h=>{e()});const e=()=>{l.loading.show({message:'alguns dados importante est\xE3o em <b>progresso</b>.<br><span class="text-amber text-italic">Por favor aguarde...</span>',html:!0}),c=setTimeout(()=>{l.loading.hide(),c=void 0},3e3)};return{}}},Ke={class:"q-pa-md"};function Ze(r,l,c,e,h,C){return g(),m("div",Ke)}var $e=U(Xe,[["render",Ze]]);const eo={props:{load:{type:Boolean,required:!0}},setup(r){const l=X();let c;te(()=>{c!==void 0&&(clearTimeout(c),l.loading.hide())}),ne(()=>r.load,h=>{e()});const e=()=>{const h=l.loading.show({group:"first",message:"Carregando informa\xE7\xF5es do I trimestre...",spinnerColor:"amber",messageColor:"amber"});c=setTimeout(()=>{const C=l.loading.show({group:"second",message:"Carregando informa\xE7\xF5es do II trimestre..."});c=setTimeout(()=>{C(),h({message:"dados carregados..."}),c=setTimeout(()=>{l.loading.hide(),c=void 0},2e3)},2e3)},1500)};return{}}},oo={class:"q-pa-md"};function to(r,l,c,e,h,C){return g(),m("div",oo)}var no=U(eo,[["render",to]]);const{supabase:ao}=ye(),we=be("counter",{state:()=>({miniPautas:[]}),getters:{miniPautaCount:r=>r.miniPautas.length},actions:{async getNotas(r,l,c,e,h,C,M){const{data:o,error:P}=await ao.from("view_notas_completa").select("*").eq("escolaid",r).eq("cursoid",l).eq("classeid",c).eq("turmaid",e).eq("periodoid",h).eq("ano_lectivo",C.ano_lectivo).eq("disciplinaid",M);if(P)throw P.message;return this.miniPautas=o}}}),ro={props:{loadShowPrint:{type:Boolean,required:!0}},setup(r){const l=X();let c;te(()=>{c!==void 0&&(clearTimeout(c),l.loading.hide())}),ne(()=>r.loadShowPrint,h=>{console.log("newValue",h),e()});const e=()=>{l.loading.show({message:"Carregando o modo de impress\xE3o. Por favor aguarde...",boxClass:"bg-grey-2 text-grey-9",spinnerColor:"primary"}),c=setTimeout(()=>{l.loading.hide(),c=void 0},3e3)};return{}}},lo={class:"q-pa-md"};function io(r,l,c,e,h,C){return g(),m("div",lo)}var so=U(ro,[["render",io]]);const co={components:{loadingComponent3:so},props:{dataMiniPautas:{type:Object,required:!0},loading:{type:Boolean,required:!0}},setup(r){const{getDisciplinaById:l}=ce(),{getEscolaById:c}=re(),{getClasseById:e}=le(),{getTurmaById:h}=ie(),{getPeriodoById:C}=se(),M=a(""),o=a(""),P=a(""),d=a(""),L=a(""),O=a(""),N=a(!1),s=a(""),i=a([]);a([]);const T=["L\xEDngua Portuguesa","L. Portuguesa","L\xEDngua Estrangeira","L. Estrangeira","Ingl\xEAs","Ingles","Franc\xEAs","Frances"],q=a([]),B=a(null);qe(),a(),X(),Re();const H=a(""),I=a(""),F=a(""),K=a(""),E=a(""),v=a(""),R=a(""),J=a(""),y=a(""),D=a(""),z=a(null),Y=new Date().toJSON().slice(0,4),ue=a(""),A=a(),Z=/(\b\w+a\b|\b\w+ão\b|\b\w+ões\b)$/,de=/^[H]/i,W=/^[BCKHNMUZ]/i,$=/(\b\w+a\b)/i,w=/(\b\w+o\b)/i,Ne=/(\b\w+e\b|\b\w+l)/i,ge=/(\b\w+o\b|\b\w+os\b|\b\w+ei\b)$/,me=/(\b\w+e\b|\b\w+es\b)$/,_e=async()=>{try{N.value=!0;const b=window.document.getElementById("elemento-para-pdf");await Ge().from(b).set({margin:.89,filename:"Mini-Pauta.pdf",html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"landscape"}}).toPdf().get("pdf").then(S=>{const Ie=S.internal.getNumberOfPages();for(let ee=1;ee<=Ie;ee++){S.setPage(ee);const ve=S.internal.pageSize.width,pe=.55,Te=.55,De=(ve-pe)/2,ke=.3,fe=8,Oe=.51,Fe=ve-fe-.1,Ae=S.internal.pageSize.height-.6;S.addImage("../../../public/Simbolo-da-Republica.png","PNG",De,ke,pe,Te),S.setFontSize(8),S.setTextColor(140),S.addImage("../../../public/icons/RodapeIMG.png","PNG",Fe,Ae,fe,Oe)}const Se=new Blob([S.output("blob")],{type:"application/pdf"}),Le=URL.createObjectURL(Se);B.value=Le})}catch(b){console.log(b.message)}finally{N.value=!1}};return ae(async()=>{P.value=r.dataMiniPautas[0].ano_lectivo,await l(r.dataMiniPautas[0].disciplinaid).then(b=>{console.log(b),M.value=b.nome_disciplina}),await c(r.dataMiniPautas[0].escolaid).then(b=>{d.value=b[0].name,o.value=b[0].nivel_ensino,y.value=b[0].provincia,D.value=b[0].municipio,console.log(b)}),await e(r.dataMiniPautas[0].classeid).then(b=>{console.log(b),L.value=b.nome_classe}),await h(r.dataMiniPautas[0].turmaid).then(b=>{O.value=b.nome_turma}),await C(r.dataMiniPautas[0].periodoid).then(b=>{s.value=b.nome_periodo}),q.value=r.dataMiniPautas,_e(),he.updateLocale("pt-br",{months:["Janeiro","Fevereiro","Mar\xE7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"]}),z.value=he().format("D [de] MMMM [de] YYYY"),de.test(y.value)&&$.test(y.value)?A.value="da":W.test(y.value)&&$.test(y.value)?A.value="de":W.test(y.value)&&w.test(y.value)?A.value="do":(W.test(y.value)&&Ne.test(y.value),A.value="de"),Z.test(D.value)?I.value="da":ge.test(D.value)?I.value="do":me.test(D.value)&&(I.value="de"),Z.test(y.value)?F.value="da":ge.test(y.value)?F.value="do":me.test(y.value)&&(F.value="de")}),{pdfSrc:B,gerarPDF:_e,dataNascimento:K,dataEmissao:E,dataInicioFuncao:v,artigoComuna:H,artigoMunicipio:I,artigoProvincia:F,artigoComHabiltacao:R,artigoInstituicao:J,data:z,dateNowYear:Y,nome_disciplina:M,artigoQantecedEscola:ue,artigoQueAntecedeDonomeDaProvincia:A,isLinguaPortuguesaOrEstrangeira:T,getColorMac1:()=>o.value=="Ensino prim\xE1rio"&&i.value.mac1!=""?"blue":o.value=="Ensino secundario"&&i.value.mac1<=9.44?"red":"blue",getColorNpp1:()=>o.value=="Ensino prim\xE1rio"&&i.value.npp1!=""?"blue":o.value=="Ensino secundario"&&i.value.npp1<=9.44?"red":"blue",getColorNpt1:()=>o.value=="Ensino prim\xE1rio"&&i.value.npt1!=""?"blue":o.value=="Ensino secundario"&&i.value.npt1<=9.44?"red":"blue",getColorMt1:()=>o.value=="Ensino prim\xE1rio"&&i.value.mt1!=""||o.value=="Ensino secundario"&&i.value.mt1<=9.44?"red":"blue",getColorMac2:()=>o.value=="Ensino prim\xE1rio"&&i.value.mac2!=""?"blue":o.value=="Ensino secundario"&&i.value.mac2<=9.44?"red":"blue",getColorNpp2:()=>o.value=="Ensino prim\xE1rio"&&i.value.npp2!=""?"blue":o.value=="Ensino secundario"&&i.value.npp2<=9.44?"red":"blue",getColorMpt2:()=>o.value=="Ensino prim\xE1rio"&&i.value.npt2!=""?"blue":o.value=="Ensino secundario"&&i.value.npt2<=9.44?"red":"blue",getColorMt2:()=>o.value=="Ensino prim\xE1rio"&&i.value.mt2!=""||o.value=="Ensino secundario"&&i.value.mt2<=9.44?"red":"blue",getColorMac3:()=>o.value=="Ensino prim\xE1rio"&&i.value.mac3!=""?"blue":o.value=="Ensino secundario"&&i.value.mac3<=9.44?"red":"blue",getColorNpp3:()=>o.value=="Ensino prim\xE1rio"&&i.value.npp3!=""?"blue":o.value=="Ensino secundario"&&i.value.npp3<=9.44?"red":"blue",getColorNpt3:()=>o.value=="Ensino prim\xE1rio"&&i.value.npt3!=""?"blue":o.value=="Ensino secundario"&&i.value.npt3<=9.44?"red":"blue",getColorMt3:()=>o.value=="Ensino prim\xE1rio"&&i.value.mt3!=""||o.value=="Ensino secundario"&&i.value.mt3<=9.44?"red":"blue",getColorMfd:()=>o.value=="Ensino prim\xE1rio"&&i.value.mfd!=""||o.value=="Ensino secundario"&&i.value.mfd<=9.44?"red":"blue",getColorNe:()=>o.value=="Ensino prim\xE1rio"&&i.value.ne!=""||o.value=="Ensino secundario"&&i.value.ne<=9.44?"red":"blue",getColorNee:()=>o.value=="Ensino prim\xE1rio"&&i.value.nee!=""?"blue":o.value=="Ensino secundario"&&i.value.nee<=9.44?"red":"blue",getColorNeo:()=>o.value=="Ensino prim\xE1rio"&&i.value.neo!=""?"blue":o.value=="Ensino secundario"&&i.value.neo<=9.44?"red":"blue",getColorMec:()=>o.value=="Ensino prim\xE1rio"&&i.value.mec!=""?"blue":o.value=="Ensino secundario"&&i.value.mec<=9.44?"red":"blue",getColorMf:()=>o.value=="Ensino prim\xE1rio"&&i.value.mf!=""||o.value=="Ensino secundario"&&i.value.mf<=9.44?"red":"blue",carregar:N,provincia:y,municipio:D}}},_=r=>(Pe("data-v-46115944"),r=r(),Ee(),r),uo=["src"],go={style:{display:"none"}},mo={id:"elemento-para-pdf",class:"StyleFontDocument alignTextJustify"},_o={class:"row",style:{"line-height":"1.5"}},vo=_(()=>t("div",{class:"col-12 text-center"},"Rep\xFAblica de Angola",-1)),po={class:"col-12 text-center"},fo={class:"col-12 text-center"},ho=_(()=>t("div",{class:"col-12 text-center"},[t("b",null,"Direc\xE7\xE3o Municipal da Educa\xE7\xE3o")],-1)),bo=_(()=>t("div",{class:"row"},[t("div",{class:"col-12 text-center"},[t("br"),t("br"),t("b",null,"MINI-PAUTA")])],-1)),yo={class:"table green-border",id:"dataTable"},Co={class:"bg-grey-4"},Mo=_(()=>t("td",{class:"bg-grey-4",rowspan:"2"},"N\xBA",-1)),Po=_(()=>t("td",{class:"bg-grey-4",rowspan:"2",style:{width:"200px !important"}}," Nome de alunos ",-1)),Eo=_(()=>t("td",{class:"bg-grey-4",colspan:"4",style:{"text-align":"center"}}," I Trimestre ",-1)),xo=_(()=>t("td",{class:"bg-grey-4",colspan:"4",style:{"text-align":"center"}}," II Trimestre ",-1)),wo=_(()=>t("td",{class:"bg-grey-4",colspan:"4",style:{"text-align":"center"}}," III Trimestres ",-1)),No=_(()=>t("td",{class:"bg-grey-4",rowspan:"2",style:{"text-align":"center"}}," MFD ",-1)),Io={key:0,class:"bg-grey-4",style:{"text-align":"center"},rowspan:"2"},So={key:1,class:"bg-grey-4",style:{"text-align":"center"},colspan:"3"},Lo=_(()=>t("td",{class:"bg-grey-4",rowspan:"2",style:{"text-align":"center"}}," NF ",-1)),To=_(()=>t("td",{class:"bg-grey-4",style:{"text-align":"center"}},"MAC",-1)),Do=_(()=>t("td",{class:"bg-grey-4",style:{"text-align":"center"}},"NPP",-1)),ko=_(()=>t("td",{class:"bg-grey-4",style:{"text-align":"center"}},"NPT",-1)),Oo=_(()=>t("td",{class:"bg-grey-4",style:{"text-align":"center"}},"MT1",-1)),Fo=_(()=>t("td",{class:"bg-grey-4",style:{"text-align":"center"}},"MAC",-1)),Ao=_(()=>t("td",{class:"bg-grey-4",style:{"text-align":"center"}},"NPP",-1)),qo=_(()=>t("td",{class:"bg-grey-4",style:{"text-align":"center"}},"NPT",-1)),Bo=_(()=>t("td",{class:"bg-grey-4",style:{"text-align":"center"}},"MT2",-1)),Vo=_(()=>t("td",{class:"bg-grey-4",style:{"text-align":"center"}},"MAC",-1)),Qo=_(()=>t("td",{class:"bg-grey-4",style:{"text-align":"center"}},"NPP",-1)),Uo=_(()=>t("td",{class:"bg-grey-4",style:{"text-align":"center"}},"NPT",-1)),Ho=_(()=>t("td",{class:"bg-grey-4",style:{"text-align":"center"}},"MT3",-1)),zo={key:0,class:"bg-grey-4",style:{"text-align":"center"}},Yo={key:1,class:"bg-grey-4",style:{"text-align":"center"}},jo={key:2,class:"bg-grey-4",style:{"text-align":"center"}},Go={style:{"text-align":"center"}},Ro=_(()=>t("br",null,null,-1)),Jo=_(()=>t("br",null,null,-1));function Wo(r,l,c,e,h,C){const M=j("loading-component3");return g(),m("div",null,[x(M,{loadShowPrint:e.carregar},null,8,["loadShowPrint"]),t("div",null,[e.pdfSrc?(g(),m("iframe",{key:0,src:e.pdfSrc,style:{width:"100%",height:"500px"}},null,8,uo)):p("",!0),t("div",go,[t("div",mo,[t("div",_o,[vo,t("div",po," Governo Provincial "+n(e.artigoQueAntecedeDonomeDaProvincia)+" "+n(e.provincia),1),t("div",fo," Administra\xE7\xE3o Municipal "+n(e.artigoMunicipio)+" "+n(e.municipio),1),ho]),bo,t("table",yo,[t("tr",Co,[Mo,Po,Eo,xo,wo,No,e.isLinguaPortuguesaOrEstrangeira.includes(e.nome_disciplina)?p("",!0):(g(),m("td",Io," NE ")),e.isLinguaPortuguesaOrEstrangeira.includes(e.nome_disciplina)?(g(),m("td",So," EXAME O/E ")):p("",!0),Lo]),t("tr",null,[To,Do,ko,Oo,Fo,Ao,qo,Bo,Vo,Qo,Uo,Ho,e.isLinguaPortuguesaOrEstrangeira.includes(e.nome_disciplina)?(g(),m("td",zo," NEE ")):p("",!0),e.isLinguaPortuguesaOrEstrangeira.includes(e.nome_disciplina)?(g(),m("td",Yo," NEO ")):p("",!0),e.isLinguaPortuguesaOrEstrangeira.includes(e.nome_disciplina)?(g(),m("td",jo," MEC ")):p("",!0)]),(g(!0),m(Ce,null,Me(c.dataMiniPautas,(o,P)=>(g(),m("tr",{key:o},[t("td",Go,n(P+1),1),t("td",null,n(o.nome_aluno),1),t("td",{style:u([{color:e.getColorMac1()},{"text-align":"center"}])},n(o.nota_mac1),5),t("td",{style:u([{color:e.getColorNpp1()},{"text-align":"center"}])},n(o.nota_npp1),5),t("td",{style:u([{color:e.getColorNpt1()},{"text-align":"center"}])},n(o.nota_npt1),5),t("td",{class:"bg-grey-4",style:u([{color:e.getColorMt1()},{"text-align":"center"}])},n(o.nota_mt1),5),t("td",{style:u([{color:e.getColorMac2()},{"text-align":"center"}])},n(o.nota_mac2),5),t("td",{style:u([{color:e.getColorNpp2()},{"text-align":"center"}])},n(o.nota_npp2),5),t("td",{style:u([{color:e.getColorMpt2()},{"text-align":"center"}])},n(o.nota_npt2),5),t("td",{class:"bg-grey-4",style:u([{color:e.getColorMt2()},{"text-align":"center"}])},n(o.nota_mt2),5),t("td",{style:u([{color:e.getColorMac3()},{"text-align":"center"}])},n(o.nota_mac3),5),t("td",{style:u([{color:e.getColorNpp3()},{"text-align":"center"}])},n(o.nota_npp3),5),t("td",{style:u([{color:e.getColorNpt3()},{"text-align":"center"}])},n(o.nota_npt3),5),t("td",{class:"bg-grey-4",style:u([{color:e.getColorMt3()},{"text-align":"center"}])},n(o.nota_mt3),5),t("td",{class:"bg-grey-4",style:u([{color:e.getColorMfd()},{"text-align":"center"}])},n(o.nota_mfd),5),e.isLinguaPortuguesaOrEstrangeira.includes(e.nome_disciplina)?p("",!0):(g(),m("td",{key:0,class:"bg-grey-4",style:u([{color:e.getColorNe()},{"text-align":"center"}])},n(o.nota_ne),5)),e.isLinguaPortuguesaOrEstrangeira.includes(e.nome_disciplina)?(g(),m("td",{key:1,style:u([{color:e.getColorNee()},{"text-align":"center"}])},n(o.nota_nee),5)):p("",!0),e.isLinguaPortuguesaOrEstrangeira.includes(e.nome_disciplina)?(g(),m("td",{key:2,style:u([{color:e.getColorNeo()},{"text-align":"center"}])},n(o.nota_neo),5)):p("",!0),e.isLinguaPortuguesaOrEstrangeira.includes(e.nome_disciplina)?(g(),m("td",{key:3,class:"bg-grey-4",style:u([{color:e.getColorMec()},{"text-align":"center"}])},n(o.nota_mec),5)):p("",!0),t("td",{class:"bg-grey-4",style:u([{color:e.getColorMf()},{"text-align":"center"}])},n(o.nota_mf),5)]))),128))]),Ro,k(" O Coordenador: _________________________________________ "),Jo,k(" O Professor: ____________________________________________ ")])])])])}var Xo=U(co,[["render",Wo],["__scopeId","data-v-46115944"]]);const Ko={name:"Mini-Pautas-component",props:{dataMiniPautas:{type:Object,required:!0}},components:{printMiniPautas:Xo},setup(r){we();const{getDisciplinaById:l}=ce(),{getEscolaById:c}=re(),{getClasseById:e}=le(),{getTurmaById:h}=ie(),{getPeriodoById:C}=se(),M=a(""),o=a(""),P=a(""),d=a(""),L=a(""),O=a(""),N=a(""),s=a([]),i=a([]),T=a(!1),q=["L\xEDngua Portuguesa","L. Portuguesa","L\xEDngua Estrangeira","L. Estrangeira","Ingl\xEAs","Ingles","Franc\xEAs","Frances"];return ae(async()=>{console.log(r.dataMiniPautas),P.value=r.dataMiniPautas[0].ano_lectivo,await l(r.dataMiniPautas[0].disciplinaid).then(w=>{M.value=w.nome_disciplina}),await c(r.dataMiniPautas[0].escolaid).then(w=>{d.value=w[0].name,o.value=w[0].nivel_ensino}),await e(r.dataMiniPautas[0].classeid).then(w=>{console.log(w),L.value=w.nome_classe}),await h(r.dataMiniPautas[0].turmaid).then(w=>{O.value=w.nome_turma}),await C(r.dataMiniPautas[0].periodoid).then(w=>{N.value=w.nome_periodo})}),{isLinguaPortuguesaOrEstrangeira:q,nome_disciplina:M,nivel_ensino:o,nome_escola:d,getColorMac1:()=>o.value=="Ensino prim\xE1rio"&&s.value.mac1!=""?"blue":o.value=="Ensino secundario"&&s.value.mac1<=9.44?"red":"blue",getColorNpp1:()=>o.value=="Ensino prim\xE1rio"&&s.value.npp1!=""?"blue":o.value=="Ensino secundario"&&s.value.npp1<=9.44?"red":"blue",getColorNpt1:()=>o.value=="Ensino prim\xE1rio"&&s.value.npt1!=""?"blue":o.value=="Ensino secundario"&&s.value.npt1<=9.44?"red":"blue",getColorMt1:()=>o.value=="Ensino prim\xE1rio"&&s.value.mt1!=""||o.value=="Ensino secundario"&&s.value.mt1<=9.44?"red":"blue",getColorMac2:()=>o.value=="Ensino prim\xE1rio"&&s.value.mac2!=""?"blue":o.value=="Ensino secundario"&&s.value.mac2<=9.44?"red":"blue",getColorNpp2:()=>o.value=="Ensino prim\xE1rio"&&s.value.npp2!=""?"blue":o.value=="Ensino secundario"&&s.value.npp2<=9.44?"red":"blue",getColorMpt2:()=>o.value=="Ensino prim\xE1rio"&&s.value.npt2!=""?"blue":o.value=="Ensino secundario"&&s.value.npt2<=9.44?"red":"blue",getColorMt2:()=>o.value=="Ensino prim\xE1rio"&&s.value.mt2!=""||o.value=="Ensino secundario"&&s.value.mt2<=9.44?"red":"blue",getColorMac3:()=>o.value=="Ensino prim\xE1rio"&&s.value.mac3!=""?"blue":o.value=="Ensino secundario"&&s.value.mac3<=9.44?"red":"blue",getColorNpp3:()=>o.value=="Ensino prim\xE1rio"&&s.value.npp3!=""?"blue":o.value=="Ensino secundario"&&s.value.npp3<=9.44?"red":"blue",getColorNpt3:()=>o.value=="Ensino prim\xE1rio"&&s.value.npt3!=""?"blue":o.value=="Ensino secundario"&&s.value.npt3<=9.44?"red":"blue",getColorMt3:()=>o.value=="Ensino prim\xE1rio"&&s.value.mt3!=""||o.value=="Ensino secundario"&&s.value.mt3<=9.44?"red":"blue",getColorMfd:()=>o.value=="Ensino prim\xE1rio"&&s.value.mfd!=""||o.value=="Ensino secundario"&&s.value.mfd<=9.44?"red":"blue",getColorNee:()=>o.value=="Ensino prim\xE1rio"&&s.value.nee!=""?"blue":o.value=="Ensino secundario"&&s.value.nee<=9.44?"red":"blue",getColorNeo:()=>o.value=="Ensino prim\xE1rio"&&s.value.neo!=""?"blue":o.value=="Ensino secundario"&&s.value.neo<=9.44?"red":"blue",getColorMec:()=>o.value=="Ensino prim\xE1rio"&&s.value.mec!=""?"blue":o.value=="Ensino secundario"&&s.value.mec<=9.44?"red":"blue",getColorMf:()=>o.value=="Ensino prim\xE1rio"&&s.value.mf!=""||o.value=="Ensino secundario"&&s.value.mf<=9.44?"red":"blue",notasMiniPauta:i,anoLectivo:P,classe:L,turma:O,periodo:N,showMiniPautaPrint:T,printMinPautaShow:()=>{T.value=!0},printMinPautaHide:()=>{T.value=!1}}}},f=r=>(Pe("data-v-133c05ee"),r=r(),Ee(),r),Zo={class:"row q-mb-sm"},$o={class:"text-red-10"},et={class:"text-red-10"},ot={key:0,class:"table green-border",id:"dataTable"},tt=f(()=>t("th",{rowspan:"2"},"N\xBA",-1)),nt=f(()=>t("th",{rowspan:"2",style:{width:"200px !important"}}," Nome de alunos ",-1)),at=f(()=>t("th",{colspan:"4"},"I Trimestre",-1)),rt=f(()=>t("th",{colspan:"4"},"II Trimestre",-1)),lt=f(()=>t("th",{colspan:"4"},"III Trimestres",-1)),it=f(()=>t("th",{rowspan:"2"},"MFD",-1)),st={key:0,rowspan:"2"},ct={key:1,colspan:"3"},ut=f(()=>t("th",{rowspan:"2"},"NF",-1)),dt=f(()=>t("th",null,"MAC",-1)),gt=f(()=>t("th",null,"NPP",-1)),mt=f(()=>t("th",null,"NPT",-1)),_t=f(()=>t("th",null,"MT1",-1)),vt=f(()=>t("th",null,"MAC",-1)),pt=f(()=>t("th",null,"NPP",-1)),ft=f(()=>t("th",null,"NPT",-1)),ht=f(()=>t("th",null,"MT2",-1)),bt=f(()=>t("th",null,"MAC",-1)),yt=f(()=>t("th",null,"NPP",-1)),Ct=f(()=>t("th",null,"NPT",-1)),Mt=f(()=>t("th",null,"MT3",-1)),Pt={key:0},Et={key:1},xt={key:2},wt={style:{"text-align":"center"}},Nt=f(()=>t("br",null,null,-1));function It(r,l,c,e,h,C){const M=j("print-mini-pautas");return g(),Q(xe,{class:"q-mt-sm"},{default:G(()=>[x(Ve,{flat:"",dense:"",style:{"border-radius":"0"},size:"sm"},{default:G(()=>[x(Be,null,{default:G(()=>[t("div",Zo,[t("div",null,[k(" [ "),t("b",$o,n(e.nome_disciplina),1),k(" ] - [ "+n(e.nivel_ensino)+" ] - [ "+n(e.nome_escola)+" ] - Ano Lectivo: ",1),t("b",et,n(e.anoLectivo),1),k(" - [ Turma: "),t("b",null,n(e.turma),1),k(" ] - [ "),t("b",null,n(e.classe),1),k(" ] - [Per\xEDodo: "),t("b",null,n(e.periodo),1),k(" ] ")]),x(je),t("div",null,[e.showMiniPautaPrint==!1?(g(),Q(oe,{key:0,outline:"",color:"gray-10",size:"sm",label:"Imprimir","no-caps":"",icon:"mdi-cloud-print-outline",onClick:l[0]||(l[0]=o=>e.printMinPautaShow())})):(g(),Q(oe,{key:1,outline:"",color:"gray-10",size:"sm",label:"Ocultar modo de Impress\xE3o","no-caps":"",icon:"mdi-eye-off",onClick:l[1]||(l[1]=o=>e.printMinPautaHide())}))])]),e.showMiniPautaPrint==!1?(g(),m("table",ot,[t("thead",null,[t("tr",null,[tt,nt,at,rt,lt,it,e.isLinguaPortuguesaOrEstrangeira.includes(e.nome_disciplina)?p("",!0):(g(),m("th",st," NE ")),e.isLinguaPortuguesaOrEstrangeira.includes(e.nome_disciplina)?(g(),m("th",ct," EXAME O/E ")):p("",!0),ut]),t("tr",null,[dt,gt,mt,_t,vt,pt,ft,ht,bt,yt,Ct,Mt,e.isLinguaPortuguesaOrEstrangeira.includes(e.nome_disciplina)?(g(),m("th",Pt," NEE ")):p("",!0),e.isLinguaPortuguesaOrEstrangeira.includes(e.nome_disciplina)?(g(),m("th",Et," NEO ")):p("",!0),e.isLinguaPortuguesaOrEstrangeira.includes(e.nome_disciplina)?(g(),m("th",xt," MEC ")):p("",!0)])]),t("tbody",null,[(g(!0),m(Ce,null,Me(c.dataMiniPautas,(o,P)=>(g(),m("tr",{key:o},[t("td",wt,n(P+1),1),t("td",null,n(o.nome_aluno),1),t("td",{style:u([{color:e.getColorMac1()},{"text-align":"center"}])},n(o.nota_mac1),5),t("td",{style:u([{color:e.getColorNpp1()},{"text-align":"center"}])},n(o.nota_npp1),5),t("td",{style:u([{color:e.getColorNpt1()},{"text-align":"center"}])},n(o.nota_npt1),5),t("td",{style:u([{color:e.getColorMt1()},{"text-align":"center"}])},n(o.nota_mt1),5),t("td",{style:u([{color:e.getColorMac2()},{"text-align":"center"}])},n(o.nota_mac2),5),t("td",{style:u([{color:e.getColorNpp2()},{"text-align":"center"}])},n(o.nota_npp2),5),t("td",{style:u([{color:e.getColorMpt2()},{"text-align":"center"}])},n(o.nota_npt2),5),t("td",{style:u([{color:e.getColorMt2()},{"text-align":"center"}])},n(o.nota_mt2),5),t("td",{style:u([{color:e.getColorMac3()},{"text-align":"center"}])},n(o.nota_mac3),5),t("td",{style:u([{color:e.getColorNpp3()},{"text-align":"center"}])},n(o.nota_npp3),5),t("td",{style:u([{color:e.getColorNpt3()},{"text-align":"center"}])},n(o.nota_npt3),5),t("td",{style:u([{color:e.getColorMt3()},{"text-align":"center"}])},n(o.nota_mt3),5),t("td",{style:u([{color:e.getColorMfd()},{"text-align":"center"}])},n(o.nota_mfd),5),e.isLinguaPortuguesaOrEstrangeira.includes(e.nome_disciplina)?p("",!0):(g(),m("td",{key:0,style:u([{color:e.getColorMfd()},{"text-align":"center"}])},n(o.nota_ne),5)),e.isLinguaPortuguesaOrEstrangeira.includes(e.nome_disciplina)?(g(),m("td",{key:1,style:u([{color:e.getColorNee()},{"text-align":"center"}])},n(o.nota_nee),5)):p("",!0),e.isLinguaPortuguesaOrEstrangeira.includes(e.nome_disciplina)?(g(),m("td",{key:2,style:u([{color:e.getColorNeo()},{"text-align":"center"}])},n(o.nota_neo),5)):p("",!0),e.isLinguaPortuguesaOrEstrangeira.includes(e.nome_disciplina)?(g(),m("td",{key:3,style:u([{color:e.getColorMec()},{"text-align":"center"}])},n(o.nota_mec),5)):p("",!0),t("td",{style:u([{color:e.getColorMf()},{"text-align":"center"}])},n(o.nota_mf),5)]))),128))])])):(g(),Q(M,{key:1,loading:e.showMiniPautaPrint,dataMiniPautas:c.dataMiniPautas},null,8,["loading","dataMiniPautas"]))]),_:1})]),_:1}),Nt]),_:1})}var St=U(Ko,[["render",It],["__scopeId","data-v-133c05ee"]]);const Lt={name:"MiniPauta",components:{loadingComponent:$e,loadingComponent2:no,miniPautaComponent:St},setup(){const{user:r}=Qe(),{getEscolaByEmail:l}=re(),{getAllCursos:c}=ze(),{getAllClasses:e}=le(),{getAllTurmas:h}=ie(),{getAllPeriodos:C}=se(),{getAllDisciplinas:M}=ce(),{getAllAnoLectivo:o}=We();Ye();const{getNotas:P}=we(),d=a(!1),L=a(!1),O=a(!1),N=a([]),s=a([]),i=a([]),T=a([]),q=a([]),B=a([]),H=a([]),I=a({escolaId:"",cursoID:"",classeID:"",turmaID:"",periodoID:"",anoLectivo:"",disciplinaID:""});ae(()=>{F()});const F=async()=>{try{d.value=!0,await l("escolas",r.value.email).then(E=>{d.value=!0,I.value.escolaId=E,c(E).then(v=>{console.log(v),N.value=v}),e(E).then(v=>{console.log(v),s.value=v}),h(E).then(v=>{console.log(v),i.value=v}),C(E).then(v=>{console.log(v),T.value=v}),M(E).then(v=>{console.log(v),q.value=v}),o(E).then(v=>{console.log(v),B.value=v}),d.value=!1})}catch{}finally{d.value=!1}};return{searchForm:I,cursos:N,classes:s,turmas:i,periodos:T,disciplinas:q,anosLectivos:B,loading:d,hendleMiniPaulta:async()=>{try{L.value=!0;const{escolaId:E,cursoID:v,classeID:R,turmaID:J,periodoID:y,anoLectivo:D,disciplinaID:z}=I.value;await P(E,v,R,J,y,D,z).then(Y=>{console.log(Y),H.value=Y}),O.value=!0}catch(E){console.log(E.message)}finally{L.value=!1}},carrearMiniPauta:L,showMiniPauta:O,miniPauta:H}}},Tt={class:"row q-mt-sm bg-green-10 text-white"},Dt={class:"col-2"},kt={class:"col-2"},Ot={class:"col-2"},Ft={class:"col-2"},At={class:"col-2"},qt={class:"col-2"},Bt={class:"col-12 flex flex-center item-center q-mb-sm"},Vt=t("br",null,null,-1);function Qt(r,l,c,e,h,C){const M=j("loading-component"),o=j("loading-component2"),P=j("mini-pauta-component");return g(),Q(xe,null,{default:G(()=>[x(M,{show:e.loading},null,8,["show"]),x(o,{load:e.carrearMiniPauta},null,8,["load"]),x(He,{onSubmit:Ue(e.hendleMiniPaulta,["prevent"])},{default:G(()=>[t("div",Tt,[t("div",Dt,[x(V,{flat:"",dense:"",modelValue:e.searchForm.cursoID,"onUpdate:modelValue":l[0]||(l[0]=d=>e.searchForm.cursoID=d),label:"Seleciona o curso","option-value":"id","option-label":"nome_curso",options:e.cursos,"emit-value":"","map-options":"",dark:"",rules:[d=>!!d||"Selecione o curso"]},null,8,["modelValue","options","rules"])]),t("div",kt,[x(V,{flat:"",dense:"",modelValue:e.searchForm.classeID,"onUpdate:modelValue":l[1]||(l[1]=d=>e.searchForm.classeID=d),options:e.classes,label:"Seleciona a classe","option-value":"id","option-label":"nome_classe","emit-value":"","map-options":"",dark:"",rules:[d=>!!d||"Selecione a classe"]},null,8,["modelValue","options","rules"])]),t("div",Ot,[x(V,{flat:"",dense:"",modelValue:e.searchForm.turmaID,"onUpdate:modelValue":l[2]||(l[2]=d=>e.searchForm.turmaID=d),options:e.turmas,label:"Seleciona a turma","option-value":"id","option-label":"nome_turma","emit-value":"","map-options":"",dark:"",rules:[d=>!!d||"Selecione a turma"]},null,8,["modelValue","options","rules"])]),t("div",Ft,[x(V,{flat:"",dense:"",modelValue:e.searchForm.periodoID,"onUpdate:modelValue":l[3]||(l[3]=d=>e.searchForm.periodoID=d),options:e.periodos,label:"Seleciona o per\xEDodo","option-value":"id","option-label":"nome_periodo","emit-value":"","map-options":"",dark:"",rules:[d=>!!d||"Selecione o per\xEDodo"]},null,8,["modelValue","options","rules"])]),t("div",At,[x(V,{flat:"",dense:"",modelValue:e.searchForm.anoLectivo,"onUpdate:modelValue":l[4]||(l[4]=d=>e.searchForm.anoLectivo=d),options:e.anosLectivos,label:"Seleciona o ano lectivo","option-value":"id","option-label":"ano_lectivo","emit-value":"","map-options":"",dark:"",rules:[d=>!!d||"Selecione o ano lectivo"]},null,8,["modelValue","options","rules"])]),t("div",qt,[x(V,{flat:"",dense:"",modelValue:e.searchForm.disciplinaID,"onUpdate:modelValue":l[5]||(l[5]=d=>e.searchForm.disciplinaID=d),options:e.disciplinas,label:"Seleciona uma disciplina","option-value":"id","option-label":"nome_disciplina","emit-value":"","map-options":"",dark:"",rules:[d=>!!d||"Selecione a disciplina"]},null,8,["modelValue","options","rules"])]),t("div",Bt,[x(oe,{outline:"",type:"submit",dark:"",label:"buscar",icon:"mdi-text-box-search-outline",size:"sm",align:"center",class:"flex item-center"})])])]),_:1},8,["onSubmit"]),Vt,e.showMiniPauta?(g(),Q(P,{key:0,dataMiniPautas:e.miniPauta},null,8,["dataMiniPautas"])):p("",!0)]),_:1})}var In=U(Lt,[["render",Qt]]);export{In as default};
