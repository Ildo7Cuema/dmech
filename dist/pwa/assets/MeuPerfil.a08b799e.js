import{_ as c,P as g,R as V,r as _,o as v,S as Q,H as P,I as y,J as n,K as a,W as d,Q as C,M as b,Y as A,aT as h,aS as w,bp as x,aY as m,a0 as s,X as U}from"./index.35821edc.js";import{Q as z}from"./QForm.68d4e1ce.js";import{Q as S}from"./QPage.a66fc822.js";import{a as q,b as M}from"./QLayout.d35a44ea.js";import{i as B}from"./inputVisual.14accdd7.js";import{u as k}from"./use-quasar.0c1c42d6.js";import"./userApi.885d4b06.js";import{a as I}from"./adminAccessOp.7124fc79.js";import"./QSelect.e06743c9.js";import"./QMenu.c301a8bc.js";import"./selection.364e49a0.js";import"./QItemLabel.ce2d3637.js";import"./rtl.b51694b1.js";const N={components:{adminAccessOp:I},setup(p){const{updateUser:o,user:t,logout:e}=g(),u=V(),i=k(),r=_({name:"",phone:"",email:"",photoURL:"",file_name:"",role:"",emailAdmin:t.value.email,status:!0});return v(()=>{console.log(t.value),r.value.name=t.value.user_metadata.name,r.value.phone=t.value.user_metadata.phone,r.value.email=t.value.email}),{inputConfig:B,form:r,updatePerfil:async()=>{try{i.loading.show({message:"Actualizar perfil"}),await o(r.value),i.dialog({title:"Perfil actualizado",message:`Perfil actualizado com \xE9xito.

Voc\xEA ser\xE1 deslogado do sistema, entre com novas credenciais`,ok:!0,persistent:!0}),e(),u.push({name:"loginPage"})}catch(f){console.log(f),i.notify({message:"Error ao actualizar perfil",color:"negative",position:"top-right",icon:"mdi-alert"})}finally{i.loading.hide()}}}}},R={class:"row q-pa-md q-gutter-sm flex-center"},L={class:"col-12 q-mb-lg text-body2"};function T(p,o,t,e,u,i){const r=Q("admin-access-op");return P(),y(q,null,{default:n(()=>[a(M,null,{default:n(()=>[a(S,{padding:""},{default:n(()=>[d("div",R,[d("p",L,[a(C,{size:"md",color:"primary",name:"mdi-account"}),b(" Meu Perfil ")])]),a(A),a(h,null,{default:n(()=>[a(w,null,{default:n(()=>[a(z,{class:"q-gutter-sm",onSubmit:x(e.updatePerfil,["prevent"])},{default:n(()=>[a(m,s({modelValue:e.form.name,"onUpdate:modelValue":o[0]||(o[0]=l=>e.form.name=l)},{...e.inputConfig}),null,16,["modelValue"]),a(m,s({modelValue:e.form.email,"onUpdate:modelValue":o[1]||(o[1]=l=>e.form.email=l)},{...e.inputConfig}),null,16,["modelValue"]),a(m,s({modelValue:e.form.phone,"onUpdate:modelValue":o[2]||(o[2]=l=>e.form.phone=l)},{...e.inputConfig}),null,16,["modelValue"]),a(m,s({label:"Actualizar senha",type:"password",modelValue:e.form.password,"onUpdate:modelValue":o[3]||(o[3]=l=>e.form.password=l)},{...e.inputConfig}),null,16,["modelValue"]),a(r,{emailAccess:e.form.emailAdmin,modelValue:e.form.role,"onUpdate:modelValue":o[4]||(o[4]=l=>e.form.role=l)},null,8,["emailAccess","modelValue"]),a(U,{type:"submit","no-caps":"",label:"Actualizar perfif",icon:"mdi-account",color:"primary"})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var $=c(N,[["render",T]]);export{$ as default};
