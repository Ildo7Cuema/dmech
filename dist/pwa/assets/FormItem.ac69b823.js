import{_ as F,r as s,p as f,q as g,N as i,D as h,C as $,bp as oo,f as E,z as ao,P as c,E as eo,s as V,t as l,bq as lo,H as r,y,aZ as n,v as _,bt as Q,x as io,G as no,K as ro,I as k,aU as mo,aV as so}from"./index.bc90a1a6.js";import{Q as t}from"./QSelect.1664c3a2.js";import{Q as to}from"./QForm.d8ddec26.js";import{Q as uo}from"./QPage.f48c0666.js";import{a as co,b as fo}from"./QLayout.c9624849.js";import{u as po}from"./useNotify.98763d5b.js";import{u as Vo}from"./userApi.9d724f7f.js";import{u as go}from"./use-quasar.c935fd80.js";import{i as B,b as bo}from"./inputVisual.14accdd7.js";import{f as vo}from"./formatCurrency.6090a7ed.js";import"./position-engine.8c426333.js";import"./selection.bbfae355.js";import"./QItemLabel.d3c30afe.js";import"./QMenu.456c4d11.js";import"./rtl.b51694b1.js";const _o={props:{emailAccess:{type:String,require:!0}},setup(){return{options:s(["Secretaria-DME","RH-DME","Docente","Estudante","Encarregado"]),inputConfig:B}}};function Co(m,e,U,a,I,x){return f(),g(t,i({options:a.options,"option-label":"name",label:"Selecione o nivel de acesso"},{...a.inputConfig},{"lazy-roles":"",roles:[b=>!!b||"Selecione um n\xEDvel de acesso"]}),null,16,["options","roles"])}var yo=F(_o,[["render",Co]]);const Uo=[{name:"L\xEDngua Portugues"},{name:"L\xEDngua Inglesa"},{name:"L\xEDngua Francesa"},{name:"Matem\xE1tica"},{name:"F\xEDsica"},{name:"Qu\xEDmica"},{name:"Biologia"},{name:"Hist\xF3ria"},{name:"Filosofia"},{name:"Estudo do meio"}];const Io={name:"form-categoria",components:{adminAccessOther:yo},setup(){const{postFuncionario:m,getById:e,update:U,list:a,remove:I,uploadImage:x,fileName:b}=Vo(),{notifyError:o,notifySuccess:P}=po(),v="funcionarios",N=h(),{user:p}=$(),M={decimal:".",thousands:",",prefix:"$ ",suffix:" #",precision:2,masked:!1},L=oo(),R=go(),H=s(["Masculino","Femenino"]),O=s(["T\xE9cnico Basico","T\xE9cnico m\xE9dio","Licenciado(a)","Mestre","Phd"]),T=s(["Em efectivo servi\xE7o","Em estado provis\xF3rio"]),j=s(["Sim","N\xE3o"]),G=s(["Casado (a)","Solteiro (a)"]),A=s([]),D=s([]),q=s([]),u=s({name:"",nome_pai:"",nome_mae:"",num_agente:"",num_bilhete:"",phone:"",data_emissao:"",data_caducidade:"",data_nascimento:"",num_conta_bancaria:"",disciplinas_ministrada:[],email:"",genero:"",data_inicio_funcao:"",provincia:"",municipio:"",tipo_funcionario:"",comuna:"",localidade:"",status_nomeacao:"",categoria_id:"",escola_id:"",habilitacao:"",area_formacao:"",instituto_formacao:"",img_url:"",file_name:"",salario_base:0,salario_liquido:0,nivelAcademico:"",salario_base_extenso:"",salario_liquido_extenso:"",cituacao_funcionario:"",estado_civil:"",balcao_domicilio:"",balcao_domicilio_provincia:"",balcao_domicilio_municipio:"",role:"",password:""}),C=E(()=>L.params.id),K=async()=>{A.value=await a("categorias",S.value)},Z=async()=>{D.value=await a("escolas",S.value)},J=async d=>{try{R.dialog({title:"Confirma\xE7\xE3o",message:`tens a certeza que pretendes eliminar ${d.nome} ?`,cancel:!0,persistent:!0}).onOk(async()=>{c.show({message:"Apagando informa\xE7\xE3o do funcion\xE1rio..."}),await I(v,d.id),N.push({name:"funcionario"}),P("Funcion\xE1rio apagado com sucesso")})}catch(w){o(w.message)}finally{c.hide()}};ao(()=>{K(),Z(),C.value&&W(v,C.value)});const W=async(d,w)=>{try{c.show({message:"Carregando informa\xE7\xF5es"}),u.value=await e(d,w)}catch(Y){o(Y.message)}finally{c.hide()}},X=async()=>{try{q.value.length>0&&await x(q.value[0],"sgdme").then(d=>{u.value.img_url=d,u.value.file_name=b}),C.value?(c.show({message:"Actualiza\xE7\xE3o em processamento"}),await U(v,u.value),P("Funcion\xE1rio actualizado com sucesso")):(c.show({message:"Cadastro em processamento"}),await m(v,u.value),P("Funcion\xE1rio cadastrada com sucesso"))}catch(d){o(d.message)}finally{c.hide(),N.push({name:"funcionarios"})}},S=E(()=>p.value.id!=p.value.user_metadata.organization_id?(console.log(p.value.user_metadata.organization_id),p.value.user_metadata.organization_id):(console.log(p.value.id),p.value.id));return{form:u,isUpdate:C,valorNumber:d=>{u.value.salario_base=d},table:v,image:q,deletarItem:J,addItems:X,categorias:A,escolas:D,options:H,btnConfig:bo,inputConfig:B,nivelAcademico:O,formatCurrency:vo,moneyFormatForDirective:M,cituacao_fucnionario:T,estado_civil:G,estado_nomeacao:j,isDiferentID:S,disciplinas:Uo}}},z=m=>(mo("data-v-dd339e3c"),m=m(),so(),m),xo={class:"col-12 text-body3 text-center q-mt-lg"},Po={class:"col-md-6 col-sm-6 col-xs-10 q-gutter-y-sm"},qo={class:"text-xxs text-primary meu-tamanho"},So={class:"text-xxs text-primary meu-tamanho"},wo={class:"col-12 q-pa-md"},ko=z(()=>r("span",null,[r("b",null,"\xC9 docente em frente do aluno?")],-1)),No={class:"q-gutter-sm"},Ao={class:"q-px-sm"},Do={class:"text-red-10"},Eo={key:1},Qo=z(()=>r("div",{class:"col-12 text-center"},[r("b",null,"Atribuir uma conta para este funcionario")],-1));function Fo(m,e,U,a,I,x){const b=eo("admin-access-other");return f(),g(co,null,{default:V(()=>[l(fo,null,{default:V(()=>[l(uo,{padding:""},{default:V(()=>[l(to,{class:"row justify-center",onSubmit:lo(a.addItems,["prevent"])},{default:V(()=>[r("p",xo,y(a.isUpdate?"Actualizar dados do funcion\xE1rio":"Cadastrar novo funcion\xE1rio"),1),r("div",Po,[l(n,i({label:"Carregue uma foto do tipo passe","stack-label":"",modelValue:a.image,"onUpdate:modelValue":e[0]||(e[0]=o=>a.image=o),multiple:"",filled:"",type:"file",accept:"image/*"},{...a.inputConfig}),null,16,["modelValue"]),l(n,i({modelValue:a.form.name,"onUpdate:modelValue":e[1]||(e[1]=o=>a.form.name=o),label:"Nome completo",class:"col-12",rules:[o=>!!o||"Porfavor digite o nome da escola"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.nome_pai,"onUpdate:modelValue":e[2]||(e[2]=o=>a.form.nome_pai=o),label:"Nome do pai",class:"col-12",rules:[o=>!!o||"Porfavor o nome do pai"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.nome_mae,"onUpdate:modelValue":e[3]||(e[3]=o=>a.form.nome_mae=o),label:"Nome da ma\xEA",class:"col-12",rules:[o=>!!o||"Porfavor o nome da ma\xEA"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.phone,"onUpdate:modelValue":e[4]||(e[4]=o=>a.form.phone=o),label:"N\xBA do telem\xF3vel",class:"col-12",rules:[o=>!!o||"Porfavor informe o n\xBA do telem\xF3vel",o=>o&&o.length==9||"O n\xBA do telem\xF3vel tem de ter no m\xEDnimo 9 d\xEDgitos"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({class:"col-12"},{...a.inputConfig},{modelValue:a.form.email,"onUpdate:modelValue":e[5]||(e[5]=o=>a.form.email=o),label:"E-mail"}),null,16,["modelValue"]),l(n,i({modelValue:a.form.num_bilhete,"onUpdate:modelValue":e[6]||(e[6]=o=>a.form.num_bilhete=o),label:"N\xBA do bilhete",class:"col-12",rules:[o=>!!o||"Porfavor informe o n\xBA do Bilhete",o=>o&&o.length==14||"O n\xBA do Bilhete tem de ter no m\xEDnimo 14 caracteres"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.data_emissao,"onUpdate:modelValue":e[7]||(e[7]=o=>a.form.data_emissao=o),label:"Data de emiss\xE3o",class:"col-12",type:"date",rules:[o=>!!o||"Porfavor informe a data de emiss\xE3o"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.data_caducidade,"onUpdate:modelValue":e[8]||(e[8]=o=>a.form.data_caducidade=o),label:"Data de caducidade",class:"col-12",type:"date",rules:[o=>!!o||"Porfavor informe a data de caducidade"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.data_nascimento,"onUpdate:modelValue":e[9]||(e[9]=o=>a.form.data_nascimento=o),label:"Data de nascimento",class:"col-12",type:"date",rules:[o=>!!o||"Porfavor informe a data de nascimento"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(t,i({modelValue:a.form.genero,"onUpdate:modelValue":e[10]||(e[10]=o=>a.form.genero=o),options:a.options,"option-label":"name",label:"Selecione o g\xEAnero",rules:[o=>!!o||"Porfavor informe o g\xEAnero do funcion\xE1rio"]},{...a.inputConfig}),null,16,["modelValue","options","rules"]),l(t,i({modelValue:a.form.estado_civil,"onUpdate:modelValue":e[11]||(e[11]=o=>a.form.estado_civil=o),options:a.estado_civil,"option-label":"name",label:"Estado Civil",rules:[o=>!!o||"Porfavor informe o estado civil"]},{...a.inputConfig}),null,16,["modelValue","options","rules"]),l(t,i({modelValue:a.form.nivelAcademico,"onUpdate:modelValue":e[12]||(e[12]=o=>a.form.nivelAcademico=o),options:a.nivelAcademico,"option-label":"name",label:"Selecione o n\xEDvel acad\xEAmico",rules:[o=>!!o||"Porfavor informe o n\xEDvel acad\xEAmico do funcion\xE1rio"]},{...a.inputConfig}),null,16,["modelValue","options","rules"]),l(n,i({modelValue:a.form.data_inicio_funcao,"onUpdate:modelValue":e[13]||(e[13]=o=>a.form.data_inicio_funcao=o),label:"Data de in\xEDcio de fun\xE7\xE3o",class:"col-12",type:"date",rules:[o=>!!o||"Porfavor informe a data de in\xEDcio de fun\xE7\xE3o"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.num_agente,"onUpdate:modelValue":e[14]||(e[14]=o=>a.form.num_agente=o),label:"N\xBA de agente",class:"col-12",rules:[o=>!!o||"Porfavor informe o n\xBA de agente"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(t,i({modelValue:a.form.cituacao_funcionario,"onUpdate:modelValue":e[15]||(e[15]=o=>a.form.cituacao_funcionario=o),options:a.cituacao_fucnionario,"option-label":"name",label:"Selecione a citua\xE7\xE3o do funcion\xE1rio",rules:[o=>!!o||"Porfavor informe a citua\xE7\xE3o do funcion\xE1rio"]},{...a.inputConfig}),null,16,["modelValue","options","rules"]),l(n,i({modelValue:a.form.provincia,"onUpdate:modelValue":e[16]||(e[16]=o=>a.form.provincia=o),label:"Provincia",class:"col-12",rules:[o=>!!o||"Informe a prov\xEDncia"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.municipio,"onUpdate:modelValue":e[17]||(e[17]=o=>a.form.municipio=o),label:"Munic\xEDpio",class:"col-12",rules:[o=>!!o||"Informe o munic\xEDpio"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.comuna,"onUpdate:modelValue":e[18]||(e[18]=o=>a.form.comuna=o),label:"Comuna",class:"col-12","lazy-rules":"",rules:[o=>!!o||"Informe a Comuna"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.localidade,"onUpdate:modelValue":e[19]||(e[19]=o=>a.form.localidade=o),label:"Localidade",class:"col-12",rules:[o=>!!o||"Informe a localidade"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(t,i({modelValue:a.form.categoria_id,"onUpdate:modelValue":e[20]||(e[20]=o=>a.form.categoria_id=o),options:a.categorias,"option-value":"id","option-label":"categoria","map-options":"","emit-value":"",label:"Selecione uma categoria",rules:[o=>!!o||"Porfavor Selecione uma categoria"]},{...a.inputConfig}),null,16,["modelValue","options","rules"]),l(t,i({modelValue:a.form.status_nomeacao,"onUpdate:modelValue":e[21]||(e[21]=o=>a.form.status_nomeacao=o),options:a.estado_nomeacao,"option-label":"name",label:"\xC9 nomeado para um cargo ?",rules:[o=>!!o||"Porfavor o status de nomeacao"]},{...a.inputConfig}),null,16,["modelValue","options","rules"]),a.form.status_nomeacao=="Sim"?(f(),g(n,i({key:0,modelValue:a.form.nome_cargo,"onUpdate:modelValue":e[22]||(e[22]=o=>a.form.nome_cargo=o),label:"Informe o cargo",class:"col-12",rules:[o=>!!o||"Informe o cargo deste funcion\xE1rio"]},{...a.inputConfig}),null,16,["modelValue","rules"])):_("",!0),l(n,i({type:"numeric",modelValue:a.form.salario_base,"onUpdate:modelValue":e[23]||(e[23]=o=>a.form.salario_base=o),label:"Vencimento Base",class:"col-12",rules:[o=>!!o||"Informe o sal\xE1rio base"]},{...a.inputConfig}),{append:V(()=>[r("span",qo,y(a.formatCurrency(a.form.salario_base)),1)]),_:1},16,["modelValue","rules"]),l(n,i({class:"col-12"},{...a.inputConfig},{rules:[o=>!!o||"Informe o sal\xE1rio base por extenso"],modelValue:a.form.salario_base_extenso,"onUpdate:modelValue":e[24]||(e[24]=o=>a.form.salario_base_extenso=o),label:"Escreva o sal\xE1rio base por extenso"}),null,16,["rules","modelValue"]),l(n,i({modelValue:a.form.salario_liquido,"onUpdate:modelValue":e[25]||(e[25]=o=>a.form.salario_liquido=o),label:"Vencimento L\xEDquido",class:"col-12",rules:[o=>!!o||"Informe o sal\xE1rio l\xEDquido"]},{...a.inputConfig},{ref:"inputRef"}),{append:V(()=>[r("span",So,y(a.formatCurrency(a.form.salario_liquido)),1)]),_:1},16,["modelValue","rules"]),l(n,i({class:"col-12"},{...a.inputConfig},{rules:[o=>!!o||"Informe o sal\xE1rio liquido por extenso"],modelValue:a.form.salario_liquido_extenso,"onUpdate:modelValue":e[26]||(e[26]=o=>a.form.salario_liquido_extenso=o),label:"Escreva o sal\xE1rio l\xEDquido por extenso"}),null,16,["rules","modelValue"]),l(n,i({class:"col-12"},{...a.inputConfig},{rules:[o=>!!o||"Informe o nome do balc\xE3o onde \xE9 domiciliado o sal\xE1rio"],modelValue:a.form.balcao_domicilio,"onUpdate:modelValue":e[27]||(e[27]=o=>a.form.balcao_domicilio=o),label:"Balc\xE3o onde \xE9 domiciliado o sal\xE1rio"}),null,16,["rules","modelValue"]),l(n,i({class:"col-12"},{...a.inputConfig},{rules:[o=>!!o||"Informe o n\xBA da conta banc\xE1ria"],modelValue:a.form.num_conta_bancaria,"onUpdate:modelValue":e[28]||(e[28]=o=>a.form.num_conta_bancaria=o),label:"N\xBA da conta banc\xE1ria"}),null,16,["rules","modelValue"]),l(n,i({class:"col-12"},{...a.inputConfig},{rules:[o=>!!o||"Informe o nome da prov\xEDncia onde se encotra este balc\xE3o"],modelValue:a.form.balcao_domicilio_provincia,"onUpdate:modelValue":e[29]||(e[29]=o=>a.form.balcao_domicilio_provincia=o),label:"Prov\xEDncia onde se encotra este balc\xE3o"}),null,16,["rules","modelValue"]),l(n,i({class:"col-12"},{...a.inputConfig},{rules:[o=>!!o||"Informe o nome da prov\xEDncia onde se encotra este balc\xE3o"],modelValue:a.form.balcao_domicilio_municipio,"onUpdate:modelValue":e[30]||(e[30]=o=>a.form.balcao_domicilio_municipio=o),label:"Munic\xEDpio onde se encotra este balc\xE3o"}),null,16,["rules","modelValue"]),l(t,i({modelValue:a.form.escola_id,"onUpdate:modelValue":e[31]||(e[31]=o=>a.form.escola_id=o),options:a.escolas,"option-value":"id","option-label":"name","map-options":"","emit-value":"",label:"Selecione a escola a que pertence",rules:[o=>!!o||"Porfavor a escola a que pertence"]},{...a.inputConfig}),null,16,["modelValue","options","rules"]),r("div",wo,[ko,r("div",No,[l(Q,{modelValue:a.form.tipo_funcionario,"onUpdate:modelValue":e[32]||(e[32]=o=>a.form.tipo_funcionario=o),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"Docente",label:"Sim"},null,8,["modelValue"]),l(Q,{modelValue:a.form.tipo_funcionario,"onUpdate:modelValue":e[33]||(e[33]=o=>a.form.tipo_funcionario=o),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"Pessoal administrativo",label:"N\xE3o"},null,8,["modelValue"]),r("div",Ao,[io(" Voc\xEA o selecionou como: "),r("strong",Do,y(a.form.tipo_funcionario),1)]),a.form.tipo_funcionario=="Docente"?(f(),g(t,i({key:0,modelValue:a.form.disciplinas_ministrada,"onUpdate:modelValue":e[34]||(e[34]=o=>a.form.disciplinas_ministrada=o),options:a.disciplinas,"option-value":"id","option-label":"name","map-options":"","emit-value":"",label:"Disciplinas ministradas",multiple:"",filled:""},{...a.inputConfig},{rules:[o=>!!o||"Selecione as disciplinas que o docente ministra"]}),null,16,["modelValue","options","rules"])):_("",!0)])]),l(n,i({modelValue:a.form.habilitacao,"onUpdate:modelValue":e[35]||(e[35]=o=>a.form.habilitacao=o),label:"Habilita\xE7\xE3o",class:"col-12",rules:[o=>!!o||"Informe a habilita\xE7\xE3o"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.area_formacao,"onUpdate:modelValue":e[36]||(e[36]=o=>a.form.area_formacao=o),label:"\xC1rea de forma\xE7\xE3o",class:"col-12",rules:[o=>!!o||"Informe a \xE1rea de forma\xE7\xE3o"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.instituto_formacao,"onUpdate:modelValue":e[37]||(e[37]=o=>a.form.instituto_formacao=o),label:"Instituto de forma\xE7\xE3o",class:"col-12",rules:[o=>!!o||"Informe o nome da institui\xE7\xE3o onde se formou"]},{...a.inputConfig}),null,16,["modelValue","rules"]),a.isUpdate==null?(f(),no("div",Eo,[l(ro),Qo,l(n,i({modelValue:a.form.email,"onUpdate:modelValue":e[38]||(e[38]=o=>a.form.email=o),type:"email",label:"Informe o e-mail da escola",class:"col-6",rules:[o=>!!o||"Porfavor informe um e-mail"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(n,i({modelValue:a.form.password,"onUpdate:modelValue":e[39]||(e[39]=o=>a.form.password=o),type:"password",label:"Informe uma palavra passe",class:"col-6",rules:[o=>!!o||"Porfavor uma palavra passe"]},{...a.inputConfig}),null,16,["modelValue","rules"]),l(b,{modelValue:a.form.role,"onUpdate:modelValue":e[40]||(e[40]=o=>a.form.role=o)},null,8,["modelValue"])])):_("",!0),l(k,i({type:"submit",icon:a.isUpdate?"mdi-file-edit-outline":"mdi-content-save-all",class:"full-width",label:a.isUpdate?"Actualizar dados do funcion\xE1rio":"Cadastrar o funcion\xE1rio"},{...a.btnConfig}),null,16,["icon","label"]),m.$q.platform.is.mobile&&a.isUpdate?(f(),g(k,{key:2,onClick:e[41]||(e[41]=o=>a.deletarItem(a.form)),outline:"",icon:"mdi-delete-empty",color:"negative",class:"full-width",label:"Apagar dados do  funcion\xE1rio","no-caps":""})):_("",!0),m.$q.platform.is.mobile?(f(),g(k,{key:3,flat:"",icon:"mdi-format-list-bulleted",color:"primary",class:"full-width q-pa-sm",label:"Lista de funcion\xE1rios",to:{name:"funcionarios"}})):_("",!0)])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})}var ho=F(Io,[["render",Fo],["__scopeId","data-v-dd339e3c"]]);export{ho as default};
